!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).uploader=e()}(this,(function(){"use strict";function t(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))}function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}"function"==typeof SuppressedError&&SuppressedError;var n,o={exports:{}};var i,a,u,c=(n||(n=1,function(t){t.exports=function(t){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(t,e){var r=t[0],n=t[1],o=t[2],i=t[3];n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&o)+e[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&n)+e[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&r)+e[3]-1044525330|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&o)+e[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&n)+e[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&r)+e[7]-45705983|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&o)+e[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&n)+e[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&r)+e[11]-1990404162|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&o)+e[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&n)+e[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&r)+e[15]+1236535329|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[1]-165796510|0)<<5|r>>>27)+n|0)&o|n&~o)+e[6]-1069501632|0)<<9|i>>>23)+r|0)&n|r&~n)+e[11]+643717713|0)<<14|o>>>18)+i|0)&r|i&~r)+e[0]-373897302|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[5]-701558691|0)<<5|r>>>27)+n|0)&o|n&~o)+e[10]+38016083|0)<<9|i>>>23)+r|0)&n|r&~n)+e[15]-660478335|0)<<14|o>>>18)+i|0)&r|i&~r)+e[4]-405537848|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[9]+568446438|0)<<5|r>>>27)+n|0)&o|n&~o)+e[14]-1019803690|0)<<9|i>>>23)+r|0)&n|r&~n)+e[3]-187363961|0)<<14|o>>>18)+i|0)&r|i&~r)+e[8]+1163531501|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[13]-1444681467|0)<<5|r>>>27)+n|0)&o|n&~o)+e[2]-51403784|0)<<9|i>>>23)+r|0)&n|r&~n)+e[7]+1735328473|0)<<14|o>>>18)+i|0)&r|i&~r)+e[12]-1926607734|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[5]-378558|0)<<4|r>>>28)+n|0)^n^o)+e[8]-2022574463|0)<<11|i>>>21)+r|0)^r^n)+e[11]+1839030562|0)<<16|o>>>16)+i|0)^i^r)+e[14]-35309556|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[1]-1530992060|0)<<4|r>>>28)+n|0)^n^o)+e[4]+1272893353|0)<<11|i>>>21)+r|0)^r^n)+e[7]-155497632|0)<<16|o>>>16)+i|0)^i^r)+e[10]-1094730640|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[13]+681279174|0)<<4|r>>>28)+n|0)^n^o)+e[0]-358537222|0)<<11|i>>>21)+r|0)^r^n)+e[3]-722521979|0)<<16|o>>>16)+i|0)^i^r)+e[6]+76029189|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[9]-640364487|0)<<4|r>>>28)+n|0)^n^o)+e[12]-421815835|0)<<11|i>>>21)+r|0)^r^n)+e[15]+530742520|0)<<16|o>>>16)+i|0)^i^r)+e[2]-995338651|0)<<23|n>>>9)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[0]-198630844|0)<<6|r>>>26)+n|0)|~o))+e[7]+1126891415|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[14]-1416354905|0)<<15|o>>>17)+i|0)|~r))+e[5]-57434055|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[12]+1700485571|0)<<6|r>>>26)+n|0)|~o))+e[3]-1894986606|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[10]-1051523|0)<<15|o>>>17)+i|0)|~r))+e[1]-2054922799|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[8]+1873313359|0)<<6|r>>>26)+n|0)|~o))+e[15]-30611744|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[6]-1560198380|0)<<15|o>>>17)+i|0)|~r))+e[13]+1309151649|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[4]-145523070|0)<<6|r>>>26)+n|0)|~o))+e[11]-1120210379|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[2]+718787259|0)<<15|o>>>17)+i|0)|~r))+e[9]-343485551|0)<<21|n>>>11)+o|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function n(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function o(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function i(t){var e,o,i,a,u,c,s=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)r(l,n(t.substring(e-64,e)));for(o=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(r(l,i),e=0;e<16;e+=1)i[e]=0;return a=(a=8*s).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=u,i[15]=c,r(l,i),l}function a(t){var e,n,i,a,u,c,s=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)r(l,o(t.subarray(e-64,e)));for(n=(t=e-64<s?t.subarray(e-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(r(l,i),e=0;e<16;e+=1)i[e]=0;return a=(a=8*s).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=u,i[15]=c,r(l,i),l}function u(t){var r,n="";for(r=0;r<4;r+=1)n+=e[t>>8*r+4&15]+e[t>>8*r&15];return n}function c(t){var e;for(e=0;e<t.length;e+=1)t[e]=u(t[e]);return t.join("")}function s(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function l(t,e){var r,n=t.length,o=new ArrayBuffer(n),i=new Uint8Array(o);for(r=0;r<n;r+=1)i[r]=t.charCodeAt(r);return e?i:o}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function p(t,e,r){var n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t)),n.set(new Uint8Array(e),t.byteLength),n}function y(t){var e,r=[],n=t.length;for(e=0;e<n-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function h(){this.reset()}return c(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(r,n){var o,i,a,u,c=this.byteLength,s=e(r,c),l=c;return n!==t&&(l=e(n,c)),s>l?new ArrayBuffer(0):(o=l-s,i=new ArrayBuffer(o),a=new Uint8Array(i),u=new Uint8Array(this,s,o),a.set(u),i)}}(),h.prototype.append=function(t){return this.appendBinary(s(t)),this},h.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,o=this._buff.length;for(e=64;e<=o;e+=64)r(this._hash,n(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},h.prototype.end=function(t){var e,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),r=c(this._hash),t&&(r=y(r)),this.reset(),r},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},h.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(t,e){var n,o,i,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(r(this._hash,t),a=0;a<16;a+=1)t[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=o,t[15]=i,r(this._hash,t)},h.hash=function(t,e){return h.hashBinary(s(t),e)},h.hashBinary=function(t,e){var r=c(i(t));return e?y(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(t){var e,n=p(this._buff.buffer,t),i=n.length;for(this._length+=t.byteLength,e=64;e<=i;e+=64)r(this._hash,o(n.subarray(e-64,e)));return this._buff=e-64<i?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(t){var e,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=n[e]<<(e%4<<3);return this._finish(i,o),r=c(this._hash),t&&(r=y(r)),this.reset(),r},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var t=h.prototype.getState.call(this);return t.buff=f(t.buff),t},h.ArrayBuffer.prototype.setState=function(t){return t.buff=l(t.buff,!0),h.prototype.setState.call(this,t)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(t,e){var r=c(a(new Uint8Array(t)));return e?y(r):r},h}()}(o)),o.exports),s=e(c);!function(t){t[t.InitializeStatus=0]="InitializeStatus",t[t.PendingStatus=1]="PendingStatus",t[t.FulfilledStatus=2]="FulfilledStatus",t[t.RejectStatus=3]="RejectStatus"}(i||(i={}));class l{constructor(t,e,r,n){this.uspType=n,this.chunks=[],this.uploadedSize=0,this.digest="",this.init=t=>{this.f.digest((e=>{console.log(e),this.digest=e,this.f.read(0,200,(r=>{const n=this.getNew();n.set("size",this.f.size().toString()),n.set("digest",e),n.set("chunk_size",this.chunksize.toString()),n.set("ts",Date.now().toString()),n.set("ext",this.ctx.ext),this.r.initRequest(this.ctx,n,r,t,this.fail)}),(t=>{console.log(t)}))}),(t=>{console.log(t)}))},this.uploadChunk=(t,e,r,n,o)=>{const i=this,a=this.getNew();a.set("upload_id",t),a.set("index",r.toString()),a.set("digest",s.ArrayBuffer.hash(n)),this.r.chunkRequest(this.ctx,a,n,(t=>{console.log(t),i.chunks.push({index:r,etag:t.etag}),r<i.totalChunks-1?i.uploadedSize+=i.chunksize:i.uploadedSize+=i.totalSize-i.chunksize*(i.totalChunks-1),i.progress({uploadedSize:i.uploadedSize,totalSize:i.totalSize}),o()}),this.fail)},this.ctx=t,this.f=e,this.r=r,this.totalSize=this.f.size(),this.chunksize=this.ctx.chunkSize||2097152,this.totalChunks=Math.ceil(this.totalSize/this.chunksize),this.maxConcurrency=Math.min(this.totalChunks,this.ctx.maxConcurrency||5),this.tasks=Array.from({length:this.totalChunks},((t,e)=>e))}getNew(){return new this.uspType}upload(t){const e=this;for(let t=0;t<this.chunks.length;t++){this.chunks[t].index<this.totalChunks-1?this.uploadedSize+=this.chunksize:this.uploadedSize+=this.totalSize-this.chunksize*(this.totalChunks-1),this.progress({uploadedSize:this.uploadedSize,totalSize:this.totalSize})}Promise.all(Array.from({length:this.maxConcurrency},((r,n)=>new Promise((r=>{const o=()=>{const i=this.tasks.shift();if(void 0===i)return void r(n);const a=i*this.chunksize,u=a+this.chunksize>=this.totalSize?this.totalSize:a+this.chunksize;e.f.read(a,u-a,(r=>{e.uploadChunk(t.upload_id,n,i,r,o)}),(t=>{console.log(t)}))};o()}))))).then((e=>{console.log(e),this.merge(t.upload_id)})).catch((t=>console.log(t)))}success(t){console.log("success",t),this.complete(t)}fail(t){console.log(t)}progress(t){console.log("progress",t)}complete(t){console.log(t)}merge(t){const e=this.getNew();e.set("upload_id",t),e.set("digest",this.digest);const r=JSON.stringify(this.chunks),n=this;this.r.mergeRequest(this.ctx,e,r,(t=>{n.success(t)}),this.fail)}on(t,e){switch(t){case"progress":this.progress=e;break;case"retry":break;case"success":this.success=e;break;case"fail":this.fail=e;break;case"complete":this.complete=e}}run(){this.init((t=>{switch(t.status){case 0:this.upload(t);case 1:this.chunks=t.chunks,this.upload(t);break;case 2:this.success(t)}console.log(t.upload_id)}))}}function f(){return u?a:(u=1,a=TypeError)}var p="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},y="function"==typeof Map&&Map.prototype,h=Object.getOwnPropertyDescriptor&&y?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,d=y&&h&&"function"==typeof h.get?h.get:null,g=y&&Map.prototype.forEach,b="function"==typeof Set&&Set.prototype,m=Object.getOwnPropertyDescriptor&&b?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,v=b&&m&&"function"==typeof m.get?m.get:null,S=b&&Set.prototype.forEach,w="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,A="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,j="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,O=Boolean.prototype.valueOf,_=Object.prototype.toString,E=Function.prototype.toString,P=String.prototype.match,x=String.prototype.slice,k=String.prototype.replace,R=String.prototype.toUpperCase,I=String.prototype.toLowerCase,F=RegExp.prototype.test,D=Array.prototype.concat,M=Array.prototype.join,N=Array.prototype.slice,U=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,B=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,z="function"==typeof Symbol&&"object"==typeof Symbol.iterator,L="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===z||"symbol")?Symbol.toStringTag:null,q=Object.prototype.propertyIsEnumerable,W=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function $(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||F.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-U(-t):U(t);if(n!==t){var o=String(n),i=x.call(e,o.length+1);return k.call(o,r,"$&_")+"."+k.call(k.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return k.call(e,r,"$&_")}var K=require("./util.inspect"),G=K.custom,H=et(G)?G:null,V={__proto__:null,double:'"',single:"'"},Q={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function J(t,e,r){var n=r.quoteStyle||e,o=V[n];return o+t+o}function X(t){return k.call(String(t),/"/g,"&quot;")}function Y(t){return!L||!("object"==typeof t&&(L in t||void 0!==t[L]))}function Z(t){return"[object Array]"===ot(t)&&Y(t)}function tt(t){return"[object RegExp]"===ot(t)&&Y(t)}function et(t){if(z)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!C)return!1;try{return C.call(t),!0}catch(t){}return!1}module.exports=function t(e,r,n,o){var i=r||{};if(nt(i,"quoteStyle")&&!nt(V,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(nt(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&i.maxStringLength!==1/0:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!nt(i,"customInspect")||i.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(nt(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(nt(i,"numericSeparator")&&"boolean"!=typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=i.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return at(e,i);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var c=String(e);return u?$(e,c):c}if("bigint"==typeof e){var s=String(e)+"n";return u?$(e,s):s}var l=void 0===i.depth?5:i.depth;if(void 0===n&&(n=0),n>=l&&l>0&&"object"==typeof e)return Z(e)?"[Array]":"[Object]";var f=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=M.call(Array(t.indent+1)," ")}return{base:r,prev:M.call(Array(e+1),r)}}(i,n);if(void 0===o)o=[];else if(it(o,e)>=0)return"[Circular]";function y(e,r,a){if(r&&(o=N.call(o)).push(r),a){var u={depth:i.depth};return nt(i,"quoteStyle")&&(u.quoteStyle=i.quoteStyle),t(e,u,n+1,o)}return t(e,i,n+1,o)}if("function"==typeof e&&!tt(e)){var h=function(t){if(t.name)return t.name;var e=P.call(E.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),b=pt(e,y);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(b.length>0?" { "+M.call(b,", ")+" }":"")}if(et(e)){var m=z?k.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(e);return"object"!=typeof e||z?m:ct(m)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var _="<"+I.call(String(e.nodeName)),R=e.attributes||[],F=0;F<R.length;F++)_+=" "+R[F].name+"="+J(X(R[F].value),"double",i);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+I.call(String(e.nodeName))+">"}if(Z(e)){if(0===e.length)return"[]";var U=pt(e,y);return f&&!function(t){for(var e=0;e<t.length;e++)if(it(t[e],"\n")>=0)return!1;return!0}(U)?"["+ft(U,f)+"]":"[ "+M.call(U,", ")+" ]"}if(function(t){return"[object Error]"===ot(t)&&Y(t)}(e)){var B=pt(e,y);return"cause"in Error.prototype||!("cause"in e)||q.call(e,"cause")?0===B.length?"["+String(e)+"]":"{ ["+String(e)+"] "+M.call(B,", ")+" }":"{ ["+String(e)+"] "+M.call(D.call("[cause]: "+y(e.cause),B),", ")+" }"}if("object"==typeof e&&a){if(H&&"function"==typeof e[H]&&K)return K(e,{depth:l-n});if("symbol"!==a&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t);try{v.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var G=[];return g&&g.call(e,(function(t,r){G.push(y(r,e,!0)+" => "+y(t,e))})),lt("Map",d.call(e),G,f)}if(function(t){if(!v||!t||"object"!=typeof t)return!1;try{v.call(t);try{d.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var Q=[];return S&&S.call(e,(function(t){Q.push(y(t,e))})),lt("Set",v.call(e),Q,f)}if(function(t){if(!w||!t||"object"!=typeof t)return!1;try{w.call(t,w);try{A.call(t,A)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return st("WeakMap");if(function(t){if(!A||!t||"object"!=typeof t)return!1;try{A.call(t,A);try{w.call(t,w)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return st("WeakSet");if(function(t){if(!j||!t||"object"!=typeof t)return!1;try{return j.call(t),!0}catch(t){}return!1}(e))return st("WeakRef");if(function(t){return"[object Number]"===ot(t)&&Y(t)}(e))return ct(y(Number(e)));if(function(t){if(!t||"object"!=typeof t||!T)return!1;try{return T.call(t),!0}catch(t){}return!1}(e))return ct(y(T.call(e)));if(function(t){return"[object Boolean]"===ot(t)&&Y(t)}(e))return ct(O.call(e));if(function(t){return"[object String]"===ot(t)&&Y(t)}(e))return ct(y(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&e===globalThis||void 0!==p&&e===p)return"{ [object globalThis] }";if(!function(t){return"[object Date]"===ot(t)&&Y(t)}(e)&&!tt(e)){var rt=pt(e,y),ut=W?W(e)===Object.prototype:e instanceof Object||e.constructor===Object,yt=e instanceof Object?"":"null prototype",ht=!ut&&L&&Object(e)===e&&L in e?x.call(ot(e),8,-1):yt?"Object":"",dt=(ut||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ht||yt?"["+M.call(D.call([],ht||[],yt||[]),": ")+"] ":"");return 0===rt.length?dt+"{}":f?dt+"{"+ft(rt,f)+"}":dt+"{ "+M.call(rt,", ")+" }"}return String(e)};var rt=Object.prototype.hasOwnProperty||function(t){return t in this};function nt(t,e){return rt.call(t,e)}function ot(t){return _.call(t)}function it(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function at(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return at(x.call(t,0,e.maxStringLength),e)+n}var o=Q[e.quoteStyle||"single"];return o.lastIndex=0,J(k.call(k.call(t,o,"\\$1"),/[\x00-\x1f]/g,ut),"single",e)}function ut(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+R.call(e.toString(16))}function ct(t){return"Object("+t+")"}function st(t){return t+" { ? }"}function lt(t,e,r,n){return t+" ("+e+") {"+(n?ft(r,n):M.call(r,", "))+"}"}function ft(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+M.call(t,","+r)+"\n"+e.prev}function pt(t,e){var r=Z(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=nt(t,o)?e(t[o],t):""}var i,a="function"==typeof B?B(t):[];if(z){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=a[u]}for(var c in t)nt(t,c)&&(r&&String(Number(c))===c&&c<t.length||z&&i["$"+c]instanceof Symbol||(F.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if("function"==typeof B)for(var s=0;s<a.length;s++)q.call(t,a[s])&&n.push("["+e(a[s])+"]: "+e(t[a[s]],t));return n}var yt,ht,dt,gt,bt,mt,vt,St,wt,At,jt,Ot,_t,Et,Pt,xt,kt,Rt,It,Ft,Dt,Mt,Nt,Ut,Tt,Bt,Ct,zt,Lt,qt,Wt,$t,Kt,Gt,Ht,Vt,Qt,Jt,Xt,Yt,Zt,te,ee,re,ne,oe,ie,ae,ue,ce,se,le,fe,pe,ye,he,de,ge,be,me,ve,Se,we,Ae,je,Oe,_e,Ee,Pe,xe,ke,Re,Ie,Fe,De,Me,Ne,Ue,Te,Be,Ce,ze,Le,qe,We,$e,Ke=r(Object.freeze({__proto__:null}));function Ge(){if(ht)return yt;ht=1;var t=Ke,e=f(),r=function(t,e,r){for(var n,o=t;null!=(n=o.next);o=n)if(n.key===e)return o.next=n.next,r||(n.next=t.next,t.next=n),n};return yt=function(){var n,o={assert:function(r){if(!o.has(r))throw new e("Side channel does not contain "+t(r))},delete:function(t){var e=n&&n.next,o=function(t,e){if(t)return r(t,e,!0)}(n,t);return o&&e&&e===o&&(n=void 0),!!o},get:function(t){return function(t,e){if(t){var n=r(t,e);return n&&n.value}}(n,t)},has:function(t){return function(t,e){return!!t&&!!r(t,e)}(n,t)},set:function(t,e){n||(n={next:void 0}),function(t,e,n){var o=r(t,e);o?o.value=n:t.next={key:e,next:t.next,value:n}}(n,t,e)}};return o}}function He(){return gt?dt:(gt=1,dt=Object)}function Ve(){return mt?bt:(mt=1,bt=Error)}function Qe(){return St?vt:(St=1,vt=EvalError)}function Je(){return At?wt:(At=1,wt=RangeError)}function Xe(){return Ot?jt:(Ot=1,jt=ReferenceError)}function Ye(){return Et?_t:(Et=1,_t=SyntaxError)}function Ze(){return xt?Pt:(xt=1,Pt=URIError)}function tr(){return Rt?kt:(Rt=1,kt=Math.abs)}function er(){return Ft?It:(Ft=1,It=Math.floor)}function rr(){return Mt?Dt:(Mt=1,Dt=Math.max)}function nr(){return Ut?Nt:(Ut=1,Nt=Math.min)}function or(){return Bt?Tt:(Bt=1,Tt=Math.pow)}function ir(){return zt?Ct:(zt=1,Ct=Math.round)}function ar(){return qt?Lt:(qt=1,Lt=Number.isNaN||function(t){return t!=t})}function ur(){if($t)return Wt;$t=1;var t=ar();return Wt=function(e){return t(e)||0===e?e:e<0?-1:1}}function cr(){return Gt?Kt:(Gt=1,Kt=Object.getOwnPropertyDescriptor)}function sr(){if(Vt)return Ht;Vt=1;var t=cr();if(t)try{t([],"length")}catch(e){t=null}return Ht=t}function lr(){if(Jt)return Qt;Jt=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}return Qt=t}function fr(){if(te)return Zt;te=1;var t="undefined"!=typeof Symbol&&Symbol,e=Yt?Xt:(Yt=1,Xt=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var o=Object.getOwnPropertySymbols(t);if(1!==o.length||o[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0});return Zt=function(){return"function"==typeof t&&("function"==typeof Symbol&&("symbol"==typeof t("foo")&&("symbol"==typeof Symbol("bar")&&e())))}}function pr(){return re?ee:(re=1,ee="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null)}function yr(){return oe?ne:(oe=1,ne=He().getPrototypeOf||null)}function hr(){if(ae)return ie;ae=1;var t=Object.prototype.toString,e=Math.max,r=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var o=0;o<e.length;o+=1)r[o+t.length]=e[o];return r};return ie=function(n){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(t,e){for(var r=[],n=e,o=0;n<t.length;n+=1,o+=1)r[o]=t[n];return r}(arguments,1),u=e(0,o.length-a.length),c=[],s=0;s<u;s++)c[s]="$"+s;if(i=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r}(c,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,r(a,arguments));return Object(t)===t?t:this}return o.apply(n,r(a,arguments))})),o.prototype){var l=function(){};l.prototype=o.prototype,i.prototype=new l,l.prototype=null}return i},ie}function dr(){if(ce)return ue;ce=1;var t=hr();return ue=Function.prototype.bind||t}function gr(){return le?se:(le=1,se=Function.prototype.call)}function br(){return pe?fe:(pe=1,fe=Function.prototype.apply)}function mr(){if(ge)return de;ge=1;var t=dr(),e=br(),r=gr(),n=he?ye:(he=1,ye="undefined"!=typeof Reflect&&Reflect&&Reflect.apply);return de=n||t.call(r,e)}function vr(){if(me)return be;me=1;var t=dr(),e=f(),r=gr(),n=mr();return be=function(o){if(o.length<1||"function"!=typeof o[0])throw new e("a function is required");return n(t,r,o)}}function Sr(){if(Se)return ve;Se=1;var t,e=vr(),r=sr();try{t=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var n=!!t&&r&&r(Object.prototype,"__proto__"),o=Object,i=o.getPrototypeOf;return ve=n&&"function"==typeof n.get?e([n.get]):"function"==typeof i&&function(t){return i(null==t?t:o(t))}}function wr(){if(Ae)return we;Ae=1;var t=pr(),e=yr(),r=Sr();return we=t?function(e){return t(e)}:e?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("getProto: not an object");return e(t)}:r?function(t){return r(t)}:null}function Ar(){if(Oe)return je;Oe=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=dr();return je=r.call(t,e)}function jr(){if(Ee)return _e;var t;Ee=1;var e=He(),r=Ve(),n=Qe(),o=Je(),i=Xe(),a=Ye(),u=f(),c=Ze(),s=tr(),l=er(),p=rr(),y=nr(),h=or(),d=ir(),g=ur(),b=Function,m=function(t){try{return b('"use strict"; return ('+t+").constructor;")()}catch(t){}},v=sr(),S=lr(),w=function(){throw new u},A=v?function(){try{return w}catch(t){try{return v(arguments,"callee").get}catch(t){return w}}}():w,j=fr()(),O=wr(),_=yr(),E=pr(),P=br(),x=gr(),k={},R="undefined"!=typeof Uint8Array&&O?O(Uint8Array):t,I={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?t:ArrayBuffer,"%ArrayIteratorPrototype%":j&&O?O([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":"undefined"==typeof Atomics?t:Atomics,"%BigInt%":"undefined"==typeof BigInt?t:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?t:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":"undefined"==typeof Float16Array?t:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?t:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?t:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?t:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":k,"%Int8Array%":"undefined"==typeof Int8Array?t:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?t:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":j&&O?O(O([][Symbol.iterator]())):t,"%JSON%":"object"==typeof JSON?JSON:t,"%Map%":"undefined"==typeof Map?t:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&j&&O?O((new Map)[Symbol.iterator]()):t,"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":v,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?t:Promise,"%Proxy%":"undefined"==typeof Proxy?t:Proxy,"%RangeError%":o,"%ReferenceError%":i,"%Reflect%":"undefined"==typeof Reflect?t:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?t:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&j&&O?O((new Set)[Symbol.iterator]()):t,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":j&&O?O(""[Symbol.iterator]()):t,"%Symbol%":j?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":A,"%TypedArray%":R,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?t:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?t:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?t:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?t:Uint32Array,"%URIError%":c,"%WeakMap%":"undefined"==typeof WeakMap?t:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?t:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?t:WeakSet,"%Function.prototype.call%":x,"%Function.prototype.apply%":P,"%Object.defineProperty%":S,"%Object.getPrototypeOf%":_,"%Math.abs%":s,"%Math.floor%":l,"%Math.max%":p,"%Math.min%":y,"%Math.pow%":h,"%Math.round%":d,"%Math.sign%":g,"%Reflect.getPrototypeOf%":E};if(O)try{null.error}catch(t){var F=O(O(t));I["%Error.prototype%"]=F}var D=function t(e){var r;if("%AsyncFunction%"===e)r=m("async function () {}");else if("%GeneratorFunction%"===e)r=m("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=m("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&O&&(r=O(o.prototype))}return I[e]=r,r},M={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},N=dr(),U=Ar(),T=N.call(x,Array.prototype.concat),B=N.call(P,Array.prototype.splice),C=N.call(x,String.prototype.replace),z=N.call(x,String.prototype.slice),L=N.call(x,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,$=function(t,e){var r,n=t;if(U(M,n)&&(n="%"+(r=M[n])[0]+"%"),U(I,n)){var o=I[n];if(o===k&&(o=D(n)),void 0===o&&!e)throw new u("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new a("intrinsic "+t+" does not exist!")};return _e=function(t,e){if("string"!=typeof t||0===t.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new u('"allowMissing" argument must be a boolean');if(null===L(/^%?[^%]*%?$/,t))throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=z(t,0,1),r=z(t,-1);if("%"===e&&"%"!==r)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new a("invalid intrinsic syntax, expected opening `%`");var n=[];return C(t,q,(function(t,e,r,o){n[n.length]=r?C(o,W,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",o=$("%"+n+"%",e),i=o.name,c=o.value,s=!1,l=o.alias;l&&(n=l[0],B(r,T([0,1],l)));for(var f=1,p=!0;f<r.length;f+=1){var y=r[f],h=z(y,0,1),d=z(y,-1);if(('"'===h||"'"===h||"`"===h||'"'===d||"'"===d||"`"===d)&&h!==d)throw new a("property names with quotes must have matching quotes");if("constructor"!==y&&p||(s=!0),U(I,i="%"+(n+="."+y)+"%"))c=I[i];else if(null!=c){if(!(y in c)){if(!e)throw new u("base intrinsic for "+t+" exists, but the property is not available.");return}if(v&&f+1>=r.length){var g=v(c,y);c=(p=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[y]}else p=U(c,y),c=c[y];p&&!s&&(I[i]=c)}}return c},_e}function Or(){if(xe)return Pe;xe=1;var t=jr(),e=vr(),r=e([t("%String.prototype.indexOf%")]);return Pe=function(n,o){var i=t(n,!!o);return"function"==typeof i&&r(n,".prototype.")>-1?e([i]):i}}function _r(){if(Re)return ke;Re=1;var t=jr(),e=Or(),r=Ke,n=f(),o=t("%Map%",!0),i=e("Map.prototype.get",!0),a=e("Map.prototype.set",!0),u=e("Map.prototype.has",!0),c=e("Map.prototype.delete",!0),s=e("Map.prototype.size",!0);return ke=!!o&&function(){var t,e={assert:function(t){if(!e.has(t))throw new n("Side channel does not contain "+r(t))},delete:function(e){if(t){var r=c(t,e);return 0===s(t)&&(t=void 0),r}return!1},get:function(e){if(t)return i(t,e)},has:function(e){return!!t&&u(t,e)},set:function(e,r){t||(t=new o),a(t,e,r)}};return e}}function Er(){if(Me)return De;Me=1;var t=f(),e=Ke,r=Ge(),n=_r(),o=function(){if(Fe)return Ie;Fe=1;var t=jr(),e=Or(),r=Ke,n=_r(),o=f(),i=t("%WeakMap%",!0),a=e("WeakMap.prototype.get",!0),u=e("WeakMap.prototype.set",!0),c=e("WeakMap.prototype.has",!0),s=e("WeakMap.prototype.delete",!0);return Ie=i?function(){var t,e,l={assert:function(t){if(!l.has(t))throw new o("Side channel does not contain "+r(t))},delete:function(r){if(i&&r&&("object"==typeof r||"function"==typeof r)){if(t)return s(t,r)}else if(n&&e)return e.delete(r);return!1},get:function(r){return i&&r&&("object"==typeof r||"function"==typeof r)&&t?a(t,r):e&&e.get(r)},has:function(r){return i&&r&&("object"==typeof r||"function"==typeof r)&&t?c(t,r):!!e&&e.has(r)},set:function(r,o){i&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new i),u(t,r,o)):n&&(e||(e=n()),e.set(r,o))}};return l}:n}(),i=o||n||r;return De=function(){var r,n={assert:function(r){if(!n.has(r))throw new t("Side channel does not contain "+e(r))},delete:function(t){return!!r&&r.delete(t)},get:function(t){return r&&r.get(t)},has:function(t){return!!r&&r.has(t)},set:function(t,e){r||(r=i()),r.set(t,e)}};return n}}function Pr(){if(Ue)return Ne;Ue=1;var t=String.prototype.replace,e=/%20/g,r="RFC3986";return Ne={default:r,formatters:{RFC1738:function(r){return t.call(r,e,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:r}}function xr(){if(Be)return Te;Be=1;var t=Pr(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o=function(t,e){for(var r=e&&e.plainObjects?{__proto__:null}:{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},i=1024;return Te={arrayToObject:o,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],o=0;o<e.length;++o)for(var i=e[o],a=i.obj[i.prop],u=Object.keys(a),c=0;c<u.length;++c){var s=u[c],l=a[s];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:a,prop:s}),n.push(l))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(r(n)){for(var o=[],i=0;i<n.length;++i)void 0!==n[i]&&o.push(n[i]);e.obj[e.prop]=o}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(e,r,o,a,u){if(0===e.length)return e;var c=e;if("symbol"==typeof e?c=Symbol.prototype.toString.call(e):"string"!=typeof e&&(c=String(e)),"iso-8859-1"===o)return escape(c).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var s="",l=0;l<c.length;l+=i){for(var f=c.length>=i?c.slice(l,l+i):c,p=[],y=0;y<f.length;++y){var h=f.charCodeAt(y);45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||u===t.RFC1738&&(40===h||41===h)?p[p.length]=f.charAt(y):h<128?p[p.length]=n[h]:h<2048?p[p.length]=n[192|h>>6]+n[128|63&h]:h<55296||h>=57344?p[p.length]=n[224|h>>12]+n[128|h>>6&63]+n[128|63&h]:(y+=1,h=65536+((1023&h)<<10|1023&f.charCodeAt(y)),p[p.length]=n[240|h>>18]+n[128|h>>12&63]+n[128|h>>6&63]+n[128|63&h])}s+=p.join("")}return s},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(r(t)){for(var n=[],o=0;o<t.length;o+=1)n.push(e(t[o]));return n}return e(t)},merge:function t(n,i,a){if(!i)return n;if("object"!=typeof i&&"function"!=typeof i){if(r(n))n.push(i);else{if(!n||"object"!=typeof n)return[n,i];(a&&(a.plainObjects||a.allowPrototypes)||!e.call(Object.prototype,i))&&(n[i]=!0)}return n}if(!n||"object"!=typeof n)return[n].concat(i);var u=n;return r(n)&&!r(i)&&(u=o(n,a)),r(n)&&r(i)?(i.forEach((function(r,o){if(e.call(n,o)){var i=n[o];i&&"object"==typeof i&&r&&"object"==typeof r?n[o]=t(i,r,a):n.push(r)}else n[o]=r})),n):Object.keys(i).reduce((function(r,n){var o=i[n];return e.call(r,n)?r[n]=t(r[n],o,a):r[n]=o,r}),u)}},Te}function kr(){if(ze)return Ce;ze=1;var t=Er(),e=xr(),r=Pr(),n=Object.prototype.hasOwnProperty,o={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},i=Array.isArray,a=Array.prototype.push,u=function(t,e){a.apply(t,i(e)?e:[e])},c=Date.prototype.toISOString,s=r.default,l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:s,formatter:r.formatters[s],indices:!1,serializeDate:function(t){return c.call(t)},skipNulls:!1,strictNullHandling:!1},f={},p=function r(n,o,a,c,s,p,y,h,d,g,b,m,v,S,w,A,j,O){for(var _,E=n,P=O,x=0,k=!1;void 0!==(P=P.get(f))&&!k;){var R=P.get(n);if(x+=1,void 0!==R){if(R===x)throw new RangeError("Cyclic object value");k=!0}void 0===P.get(f)&&(x=0)}if("function"==typeof g?E=g(o,E):E instanceof Date?E=v(E):"comma"===a&&i(E)&&(E=e.maybeMap(E,(function(t){return t instanceof Date?v(t):t}))),null===E){if(p)return d&&!A?d(o,l.encoder,j,"key",S):o;E=""}if("string"==typeof(_=E)||"number"==typeof _||"boolean"==typeof _||"symbol"==typeof _||"bigint"==typeof _||e.isBuffer(E))return d?[w(A?o:d(o,l.encoder,j,"key",S))+"="+w(d(E,l.encoder,j,"value",S))]:[w(o)+"="+w(String(E))];var I,F=[];if(void 0===E)return F;if("comma"===a&&i(E))A&&d&&(E=e.maybeMap(E,d)),I=[{value:E.length>0?E.join(",")||null:void 0}];else if(i(g))I=g;else{var D=Object.keys(E);I=b?D.sort(b):D}var M=h?String(o).replace(/\./g,"%2E"):String(o),N=c&&i(E)&&1===E.length?M+"[]":M;if(s&&i(E)&&0===E.length)return N+"[]";for(var U=0;U<I.length;++U){var T=I[U],B="object"==typeof T&&T&&void 0!==T.value?T.value:E[T];if(!y||null!==B){var C=m&&h?String(T).replace(/\./g,"%2E"):String(T),z=i(E)?"function"==typeof a?a(N,C):N:N+(m?"."+C:"["+C+"]");O.set(n,x);var L=t();L.set(f,O),u(F,r(B,z,a,c,s,p,y,h,"comma"===a&&A&&i(E)?null:d,g,b,m,v,S,w,A,j,L))}}return F};return Ce=function(e,a){var c,s=e,f=function(t){if(!t)return l;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||l.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var a=r.default;if(void 0!==t.format){if(!n.call(r.formatters,t.format))throw new TypeError("Unknown format option provided.");a=t.format}var u,c=r.formatters[a],s=l.filter;if(("function"==typeof t.filter||i(t.filter))&&(s=t.filter),u=t.arrayFormat in o?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":l.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=void 0===t.allowDots?!0===t.encodeDotInKeys||l.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:l.addQueryPrefix,allowDots:f,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:u,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:l.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:void 0===t.delimiter?l.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:l.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:l.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:l.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:l.encodeValuesOnly,filter:s,format:a,formatter:c,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:l.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:l.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:l.strictNullHandling}}(a);"function"==typeof f.filter?s=(0,f.filter)("",s):i(f.filter)&&(c=f.filter);var y=[];if("object"!=typeof s||null===s)return"";var h=o[f.arrayFormat],d="comma"===h&&f.commaRoundTrip;c||(c=Object.keys(s)),f.sort&&c.sort(f.sort);for(var g=t(),b=0;b<c.length;++b){var m=c[b],v=s[m];f.skipNulls&&null===v||u(y,p(v,m,h,d,f.allowEmptyArrays,f.strictNullHandling,f.skipNulls,f.encodeDotInKeys,f.encode?f.encoder:null,f.filter,f.sort,f.allowDots,f.serializeDate,f.format,f.formatter,f.encodeValuesOnly,f.charset,g))}var S=y.join(f.delimiter),w=!0===f.addQueryPrefix?"?":"";return f.charsetSentinel&&("iso-8859-1"===f.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),S.length>0?w+S:""},Ce}function Rr(){if(qe)return Le;qe=1;var t=xr(),e=Object.prototype.hasOwnProperty,r=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},o=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},i=function(t,e,r){if(t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(1===e.arrayLimit?"":"s")+" allowed in an array.");return t},a=function(r,n,o,a){if(r){var u=o.allowDots?r.replace(/\.([^.[]+)/g,"[$1]"):r,c=/(\[[^[\]]*])/g,s=o.depth>0&&/(\[[^[\]]*])/.exec(u),l=s?u.slice(0,s.index):u,f=[];if(l){if(!o.plainObjects&&e.call(Object.prototype,l)&&!o.allowPrototypes)return;f.push(l)}for(var p=0;o.depth>0&&null!==(s=c.exec(u))&&p<o.depth;){if(p+=1,!o.plainObjects&&e.call(Object.prototype,s[1].slice(1,-1))&&!o.allowPrototypes)return;f.push(s[1])}if(s){if(!0===o.strictDepth)throw new RangeError("Input depth exceeded depth option of "+o.depth+" and strictDepth is true");f.push("["+u.slice(s.index)+"]")}return function(e,r,n,o){var a=0;if(e.length>0&&"[]"===e[e.length-1]){var u=e.slice(0,-1).join("");a=Array.isArray(r)&&r[u]?r[u].length:0}for(var c=o?r:i(r,n,a),s=e.length-1;s>=0;--s){var l,f=e[s];if("[]"===f&&n.parseArrays)l=n.allowEmptyArrays&&(""===c||n.strictNullHandling&&null===c)?[]:t.combine([],c);else{l=n.plainObjects?{__proto__:null}:{};var p="["===f.charAt(0)&&"]"===f.charAt(f.length-1)?f.slice(1,-1):f,y=n.decodeDotInKeys?p.replace(/%2E/g,"."):p,h=parseInt(y,10);n.parseArrays||""!==y?!isNaN(h)&&f!==y&&String(h)===y&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(l=[])[h]=c:"__proto__"!==y&&(l[y]=c):l={0:c}}c=l}return c}(f,n,o,a)}};return Le=function(u,c){var s=function(e){if(!e)return n;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=void 0===e.charset?n.charset:e.charset,o=void 0===e.duplicates?n.duplicates:e.duplicates;if("combine"!==o&&"first"!==o&&"last"!==o)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||n.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:n.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:n.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:n.arrayLimit,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:n.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:n.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:n.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:n.decoder,delimiter:"string"==typeof e.delimiter||t.isRegExp(e.delimiter)?e.delimiter:n.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:n.depth,duplicates:o,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:n.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:n.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:n.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}}(c);if(""===u||null==u)return s.plainObjects?{__proto__:null}:{};for(var l="string"==typeof u?function(a,u){var c={__proto__:null},s=u.ignoreQueryPrefix?a.replace(/^\?/,""):a;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var l=u.parameterLimit===1/0?void 0:u.parameterLimit,f=s.split(u.delimiter,u.throwOnLimitExceeded?l+1:l);if(u.throwOnLimitExceeded&&f.length>l)throw new RangeError("Parameter limit exceeded. Only "+l+" parameter"+(1===l?"":"s")+" allowed.");var p,y=-1,h=u.charset;if(u.charsetSentinel)for(p=0;p<f.length;++p)0===f[p].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[p]?h="utf-8":"utf8=%26%2310003%3B"===f[p]&&(h="iso-8859-1"),y=p,p=f.length);for(p=0;p<f.length;++p)if(p!==y){var d,g,b=f[p],m=b.indexOf("]="),v=-1===m?b.indexOf("="):m+1;-1===v?(d=u.decoder(b,n.decoder,h,"key"),g=u.strictNullHandling?null:""):(d=u.decoder(b.slice(0,v),n.decoder,h,"key"),g=t.maybeMap(i(b.slice(v+1),u,r(c[d])?c[d].length:0),(function(t){return u.decoder(t,n.decoder,h,"value")}))),g&&u.interpretNumericEntities&&"iso-8859-1"===h&&(g=o(String(g))),b.indexOf("[]=")>-1&&(g=r(g)?[g]:g);var S=e.call(c,d);S&&"combine"===u.duplicates?c[d]=t.combine(c[d],g):S&&"last"!==u.duplicates||(c[d]=g)}return c}(u,s):u,f=s.plainObjects?{__proto__:null}:{},p=Object.keys(l),y=0;y<p.length;++y){var h=p[y],d=a(h,l[h],s,"string"==typeof u);f=t.merge(f,d,s)}return!0===s.allowSparse?f:t.compact(f)}}function Ir(){if($e)return We;$e=1;var t=kr(),e=Rr();return We={formats:Pr(),parse:e,stringify:t}}var Fr=Ir();const Dr={method:"get",params:{},data:"",timeout:1e3,credentials:"same-origin",headers:{},mod:"same-origin",prefix:"",suffix:"",requestType:"json",responseType:"json",hooks:[t=>{if(t.status>=200&&t.status<300)return t;throw new Error(`request error: ${t.statusText}`)}]};class Mr{constructor(t){this.opts=t||{}}_request(e,r,n){return t(this,void 0,void 0,(function*(){var t,o,i;const a=Object.assign(Object.assign(Object.assign({},this.opts),n),{method:e}),u=null!==(t=a.prefix)&&void 0!==t?t:"",c=null!==(o=a.suffix)&&void 0!==o?o:"";if(r=`${u}${r}${c}`,a.params){const t=Object.prototype.toString.call(a.params);"[object URLSearchParams]"===t?a.params=a.params.toString():"[object Object]"!==t&&"[object Array]"!==t||(a.params=Fr.stringify(a.params,{arrayFormat:"brackets"}));const e=-1!==r.indexOf("?")?"&":"?";r=`${r}${e}${a.params}`}const s=new Request(r);let l=fetch(s,(t=>{var e;const r={},n=Object.assign(Object.assign({},Dr),t),{requestType:o="json",data:i}=n;let a;if(i){const t=Object.prototype.toString.call(i);"[object Object]"===t||"[object Array]"===t?"json"===o?(n.headers=Object.assign({Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},n.headers),a=JSON.stringify(i)):"form"===o&&(n.headers=Object.assign({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},n.headers),a=Fr.stringify(i,{arrayFormat:"repeat",strictNullHandling:!0})):(n.headers=Object.assign({Accept:"application/json"},n.headers),a=i)}return r.method=null===(e=n.method)||void 0===e?void 0:e.toUpperCase(),r.headers=n.headers,r.body=a,r.credentials=n.credentials,r.mode=n.mod,r})(a));a.hooks=null!==(i=a.hooks)&&void 0!==i?i:[];for(const t of a.hooks)l=l.then(t);return l}))}get(e,r){return t(this,void 0,void 0,(function*(){return this._request("get",e,r)}))}post(e,r){return t(this,void 0,void 0,(function*(){return this._request("post",e,r)}))}delete(e,r){return t(this,void 0,void 0,(function*(){return this._request("delete",e,r)}))}put(e,r){return t(this,void 0,void 0,(function*(){return this._request("put",e,r)}))}}const Nr=t=>((t=Dr)=>new Mr(t))(t);class Ur{constructor(t){this.file=t}read(t,e,r,n){const o=Blob.prototype.slice.call(this.file,t,t+e),i=new FileReader;i.onload=t=>{t&&t.target&&t.target.readyState===FileReader.DONE&&r(t.target.result)},i.onerror=t=>{console.log(t),n(Error("fileReader error"))},i.onerror=t=>{console.log(t)},i.readAsArrayBuffer(o)}digest(t,e){const r=File.prototype.slice,n=2097152,o=Math.ceil(this.file.size/n),i=new s.ArrayBuffer,a=new FileReader;let u=0;a.onload=function(r){if(console.log("read chunk nr",u+1,"of",o),r&&r.target&&r.target.readyState===FileReader.DONE)if(i.append(r.target.result),u++,u<o)c();else{console.log("finished loading");const e=i.end();t(e)}else e(Error("hash error"))},a.onerror=function(){console.warn("oops, something went wrong.")};const c=()=>{const t=u*n,e=t+n>=this.size()?this.size():t+n;a.readAsArrayBuffer(r.call(this.file,t,e))};c()}size(){return this.file.size}}class Tr{request(e,r,n){return t(this,void 0,void 0,(function*(){return Nr(n)._request(e,r,n).then((t=>t.json()))}))}initRequest(t,e,r,n,o){const{touchUrl:i}=t,a=Object.assign(Object.assign({},t),{params:e,data:r});this.request("post",i,a).then((t=>{n(t.data)})).catch((t=>{console.log(t),o(t)}))}chunkRequest(t,e,r,n,o){const{uploadUrl:i}=t,a=Object.assign(Object.assign({},t),{params:e,data:r});this.request("post",i,a).then((t=>{n(t.data)})).catch((t=>{console.log(t),o(t)}))}mergeRequest(t,e,r,n,o){const{mergeUrl:i}=t,a=Object.assign(Object.assign({},t),{params:e,data:r});this.request("post",i,a).then((t=>{n(t.data)})).catch((t=>{console.log(t),o(t)}))}}return(t,e)=>new l(t,new Ur(e),new Tr,URLSearchParams)}));
