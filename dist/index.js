!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).uploader=e()}(this,(function(){"use strict";function t(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function c(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,c)}u((n=n.apply(t,e||[])).next())}))}function e(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}var r={exports:{}};!function(t,e){t.exports=function(t){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(t,e){var r=t[0],n=t[1],o=t[2],i=t[3];n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&o)+e[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&n)+e[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&r)+e[3]-1044525330|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&o)+e[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&n)+e[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&r)+e[7]-45705983|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&o)+e[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&n)+e[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&r)+e[11]-1990404162|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&o)+e[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&n)+e[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&r)+e[15]+1236535329|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[1]-165796510|0)<<5|r>>>27)+n|0)&o|n&~o)+e[6]-1069501632|0)<<9|i>>>23)+r|0)&n|r&~n)+e[11]+643717713|0)<<14|o>>>18)+i|0)&r|i&~r)+e[0]-373897302|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[5]-701558691|0)<<5|r>>>27)+n|0)&o|n&~o)+e[10]+38016083|0)<<9|i>>>23)+r|0)&n|r&~n)+e[15]-660478335|0)<<14|o>>>18)+i|0)&r|i&~r)+e[4]-405537848|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[9]+568446438|0)<<5|r>>>27)+n|0)&o|n&~o)+e[14]-1019803690|0)<<9|i>>>23)+r|0)&n|r&~n)+e[3]-187363961|0)<<14|o>>>18)+i|0)&r|i&~r)+e[8]+1163531501|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[13]-1444681467|0)<<5|r>>>27)+n|0)&o|n&~o)+e[2]-51403784|0)<<9|i>>>23)+r|0)&n|r&~n)+e[7]+1735328473|0)<<14|o>>>18)+i|0)&r|i&~r)+e[12]-1926607734|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[5]-378558|0)<<4|r>>>28)+n|0)^n^o)+e[8]-2022574463|0)<<11|i>>>21)+r|0)^r^n)+e[11]+1839030562|0)<<16|o>>>16)+i|0)^i^r)+e[14]-35309556|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[1]-1530992060|0)<<4|r>>>28)+n|0)^n^o)+e[4]+1272893353|0)<<11|i>>>21)+r|0)^r^n)+e[7]-155497632|0)<<16|o>>>16)+i|0)^i^r)+e[10]-1094730640|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[13]+681279174|0)<<4|r>>>28)+n|0)^n^o)+e[0]-358537222|0)<<11|i>>>21)+r|0)^r^n)+e[3]-722521979|0)<<16|o>>>16)+i|0)^i^r)+e[6]+76029189|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[9]-640364487|0)<<4|r>>>28)+n|0)^n^o)+e[12]-421815835|0)<<11|i>>>21)+r|0)^r^n)+e[15]+530742520|0)<<16|o>>>16)+i|0)^i^r)+e[2]-995338651|0)<<23|n>>>9)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[0]-198630844|0)<<6|r>>>26)+n|0)|~o))+e[7]+1126891415|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[14]-1416354905|0)<<15|o>>>17)+i|0)|~r))+e[5]-57434055|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[12]+1700485571|0)<<6|r>>>26)+n|0)|~o))+e[3]-1894986606|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[10]-1051523|0)<<15|o>>>17)+i|0)|~r))+e[1]-2054922799|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[8]+1873313359|0)<<6|r>>>26)+n|0)|~o))+e[15]-30611744|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[6]-1560198380|0)<<15|o>>>17)+i|0)|~r))+e[13]+1309151649|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[4]-145523070|0)<<6|r>>>26)+n|0)|~o))+e[11]-1120210379|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[2]+718787259|0)<<15|o>>>17)+i|0)|~r))+e[9]-343485551|0)<<21|n>>>11)+o|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function n(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function o(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function i(t){var e,o,i,a,c,u,s=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)r(l,n(t.substring(e-64,e)));for(o=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(r(l,i),e=0;e<16;e+=1)i[e]=0;return a=(a=8*s).toString(16).match(/(.*?)(.{0,8})$/),c=parseInt(a[2],16),u=parseInt(a[1],16)||0,i[14]=c,i[15]=u,r(l,i),l}function a(t){var e,n,i,a,c,u,s=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)r(l,o(t.subarray(e-64,e)));for(n=(t=e-64<s?t.subarray(e-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(r(l,i),e=0;e<16;e+=1)i[e]=0;return a=(a=8*s).toString(16).match(/(.*?)(.{0,8})$/),c=parseInt(a[2],16),u=parseInt(a[1],16)||0,i[14]=c,i[15]=u,r(l,i),l}function c(t){var r,n="";for(r=0;r<4;r+=1)n+=e[t>>8*r+4&15]+e[t>>8*r&15];return n}function u(t){var e;for(e=0;e<t.length;e+=1)t[e]=c(t[e]);return t.join("")}function s(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function l(t,e){var r,n=t.length,o=new ArrayBuffer(n),i=new Uint8Array(o);for(r=0;r<n;r+=1)i[r]=t.charCodeAt(r);return e?i:o}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function p(t,e,r){var n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t)),n.set(new Uint8Array(e),t.byteLength),r?n:n.buffer}function y(t){var e,r=[],n=t.length;for(e=0;e<n-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function h(){this.reset()}return u(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(r,n){var o,i,a,c,u=this.byteLength,s=e(r,u),l=u;return n!==t&&(l=e(n,u)),s>l?new ArrayBuffer(0):(o=l-s,i=new ArrayBuffer(o),a=new Uint8Array(i),c=new Uint8Array(this,s,o),a.set(c),i)}}(),h.prototype.append=function(t){return this.appendBinary(s(t)),this},h.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,o=this._buff.length;for(e=64;e<=o;e+=64)r(this._hash,n(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},h.prototype.end=function(t){var e,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),r=u(this._hash),t&&(r=y(r)),this.reset(),r},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},h.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(t,e){var n,o,i,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(r(this._hash,t),a=0;a<16;a+=1)t[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=o,t[15]=i,r(this._hash,t)},h.hash=function(t,e){return h.hashBinary(s(t),e)},h.hashBinary=function(t,e){var r=u(i(t));return e?y(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(t){var e,n=p(this._buff.buffer,t,!0),i=n.length;for(this._length+=t.byteLength,e=64;e<=i;e+=64)r(this._hash,o(n.subarray(e-64,e)));return this._buff=e-64<i?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(t){var e,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=n[e]<<(e%4<<3);return this._finish(i,o),r=u(this._hash),t&&(r=y(r)),this.reset(),r},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var t=h.prototype.getState.call(this);return t.buff=f(t.buff),t},h.ArrayBuffer.prototype.setState=function(t){return t.buff=l(t.buff,!0),h.prototype.setState.call(this,t)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(t,e){var r=u(a(new Uint8Array(t)));return e?y(r):r},h}()}(r);var n,o=r.exports;!function(t){t[t.InitializeStatus=0]="InitializeStatus",t[t.PendingStatus=1]="PendingStatus",t[t.FulfilledStatus=2]="FulfilledStatus",t[t.RejectStatus=3]="RejectStatus"}(n||(n={}));class i{constructor(t,e,r,n){this.uspType=n,this.chunks=[],this.uploadedSize=0,this.digest="",this.init=t=>{this.f.digest((e=>{console.log(e),this.digest=e,this.f.read(0,200,(r=>{const n=this.getNew();n.set("size",this.f.size().toString()),n.set("digest",e),n.set("chunk_size",this.chunksize.toString()),n.set("ts",Date.now().toString()),this.r.initRequest(this.ctx,n,r,t,this.fail)}),(t=>{console.log(t)}))}),(t=>{console.log(t)}))},this.uploadChunk=(t,e,r,n,i)=>{const a=this,c=this.getNew();c.set("upload_id",t),c.set("index",r.toString());const u=new TextDecoder("utf-8").decode(n);c.set("digest",o.hash(u)),this.r.chunkRequest(this.ctx,c,n,(t=>{console.log(t),a.chunks.push({index:r,etag:t.etag}),r<a.totalChunks-1?a.uploadedSize+=a.chunksize:a.uploadedSize+=a.totalSize-a.chunksize*(a.totalChunks-1),a.progress({uploadedSize:a.uploadedSize,totalSize:a.totalSize}),i()}),this.fail)},this.ctx=t,this.f=e,this.r=r,this.totalSize=this.f.size(),this.chunksize=this.ctx.chunkSize||2097152,this.totalChunks=Math.ceil(this.totalSize/this.chunksize),this.maxConcurrency=Math.min(this.totalChunks,this.ctx.maxConcurrency||5),this.tasks=Array.from({length:this.totalChunks},((t,e)=>e))}getNew(){return new this.uspType}upload(t){const e=this;for(let t=0;t<this.chunks.length;t++){this.chunks[t].index<this.totalChunks-1?this.uploadedSize+=this.chunksize:this.uploadedSize+=this.totalSize-this.chunksize*(this.totalChunks-1),this.progress({uploadedSize:this.uploadedSize,totalSize:this.totalSize})}Promise.all(Array.from({length:this.maxConcurrency},((r,n)=>new Promise((r=>{const o=()=>{const i=this.tasks.shift();if(void 0===i)return void r(n);const a=i*this.chunksize,c=a+this.chunksize>=this.totalSize?this.totalSize:a+this.chunksize;e.f.read(a,c-a,(r=>{e.uploadChunk(t.upload_id,n,i,r,o)}),(t=>{console.log(t)}))};o()}))))).then((e=>{console.log(e),this.merge(t.upload_id)})).catch((t=>console.log(t)))}success(t){console.log("success",t),this.complete(t)}fail(t){console.log(t)}progress(t){console.log("progress",t)}complete(t){console.log(t)}merge(t){const e=this.getNew();e.set("upload_id",t),e.set("digest",this.digest);const r=JSON.stringify(this.chunks),n=this;this.r.mergeRequest(this.ctx,e,r,(t=>{n.success(t)}),this.fail)}on(t,e){switch(t){case"progress":this.progress=e;break;case"retry":break;case"success":this.success=e;break;case"fail":this.fail=e;break;case"complete":this.complete=e}}run(){this.init((t=>{switch(t.status){case 0:this.upload(t);case 1:this.chunks=t.chunks,this.upload(t);break;case 2:this.success(t)}console.log(t.upload_id)}))}}var a,c="undefined"!=typeof Symbol&&Symbol,u=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0},s="Function.prototype.bind called on incompatible ",l=Array.prototype.slice,f=Object.prototype.toString,p="[object Function]",y=function(t){var e=this;if("function"!=typeof e||f.call(e)!==p)throw new TypeError(s+e);for(var r,n=l.call(arguments,1),o=function(){if(this instanceof r){var o=e.apply(this,n.concat(l.call(arguments)));return Object(o)===o?o:this}return e.apply(t,n.concat(l.call(arguments)))},i=Math.max(0,e.length-n.length),a=[],c=0;c<i;c++)a.push("$"+c);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),e.prototype){var u=function(){};u.prototype=e.prototype,r.prototype=new u,u.prototype=null}return r},h=Function.prototype.bind||y,d=h.call(Function.call,Object.prototype.hasOwnProperty),g=SyntaxError,b=Function,m=TypeError,v=function(t){try{return b('"use strict"; return ('+t+").constructor;")()}catch(t){}},S=Object.getOwnPropertyDescriptor;if(S)try{S({},"")}catch(t){S=null}var w=function(){throw new m},j=S?function(){try{return w}catch(t){try{return S(arguments,"callee").get}catch(t){return w}}}():w,A="function"==typeof c&&"function"==typeof Symbol&&"symbol"==typeof c("foo")&&"symbol"==typeof Symbol("bar")&&u(),O=Object.getPrototypeOf||function(t){return t.__proto__},P={},x="undefined"==typeof Uint8Array?a:O(Uint8Array),E={"%AggregateError%":"undefined"==typeof AggregateError?a:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?a:ArrayBuffer,"%ArrayIteratorPrototype%":A?O([][Symbol.iterator]()):a,"%AsyncFromSyncIteratorPrototype%":a,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":"undefined"==typeof Atomics?a:Atomics,"%BigInt%":"undefined"==typeof BigInt?a:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?a:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?a:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?a:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?a:FinalizationRegistry,"%Function%":b,"%GeneratorFunction%":P,"%Int8Array%":"undefined"==typeof Int8Array?a:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?a:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?a:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A?O(O([][Symbol.iterator]())):a,"%JSON%":"object"==typeof JSON?JSON:a,"%Map%":"undefined"==typeof Map?a:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&A?O((new Map)[Symbol.iterator]()):a,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?a:Promise,"%Proxy%":"undefined"==typeof Proxy?a:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?a:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?a:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&A?O((new Set)[Symbol.iterator]()):a,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?a:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A?O(""[Symbol.iterator]()):a,"%Symbol%":A?Symbol:a,"%SyntaxError%":g,"%ThrowTypeError%":j,"%TypedArray%":x,"%TypeError%":m,"%Uint8Array%":"undefined"==typeof Uint8Array?a:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?a:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?a:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?a:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?a:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?a:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?a:WeakSet},k=function t(e){var r;if("%AsyncFunction%"===e)r=v("async function () {}");else if("%GeneratorFunction%"===e)r=v("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=v("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(r=O(o.prototype))}return E[e]=r,r},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=h,F=d,N=R.call(Function.call,Array.prototype.concat),z=R.call(Function.apply,Array.prototype.splice),U=R.call(Function.call,String.prototype.replace),I=R.call(Function.call,String.prototype.slice),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,C=function(t){var e=I(t,0,1),r=I(t,-1);if("%"===e&&"%"!==r)throw new g("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new g("invalid intrinsic syntax, expected opening `%`");var n=[];return U(t,T,(function(t,e,r,o){n[n.length]=r?U(o,D,"$1"):e||t})),n},B=function(t,e){var r,n=t;if(F(_,n)&&(n="%"+(r=_[n])[0]+"%"),F(E,n)){var o=E[n];if(o===P&&(o=k(n)),void 0===o&&!e)throw new m("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new g("intrinsic "+t+" does not exist!")},M=function(t,e){if("string"!=typeof t||0===t.length)throw new m("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new m('"allowMissing" argument must be a boolean');var r=C(t),n=r.length>0?r[0]:"",o=B("%"+n+"%",e),i=o.name,a=o.value,c=!1,u=o.alias;u&&(n=u[0],z(r,N([0,1],u)));for(var s=1,l=!0;s<r.length;s+=1){var f=r[s],p=I(f,0,1),y=I(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===y||"'"===y||"`"===y)&&p!==y)throw new g("property names with quotes must have matching quotes");if("constructor"!==f&&l||(c=!0),F(E,i="%"+(n+="."+f)+"%"))a=E[i];else if(null!=a){if(!(f in a)){if(!e)throw new m("base intrinsic for "+t+" exists, but the property is not available.");return}if(S&&s+1>=r.length){var h=S(a,f);a=(l=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:a[f]}else l=F(a,f),a=a[f];l&&!c&&(E[i]=a)}}return a},L={exports:{}};!function(t){var e=h,r=M,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),a=r("%Object.getOwnPropertyDescriptor%",!0),c=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var r=i(e,o,arguments);if(a&&c){var n=a(r,"length");n.configurable&&c(r,"length",{value:1+u(0,t.length-(arguments.length-1))})}return r};var s=function(){return i(e,n,arguments)};c?c(t.exports,"apply",{value:s}):t.exports.apply=s}(L);var q=M,W=L.exports,$=W(q("String.prototype.indexOf")),H="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function G(t){return null!=t&&(!!t._isBuffer||J(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&J(t.slice(0,0))}(t))}function J(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function V(){throw new Error("setTimeout has not been defined")}function Q(){throw new Error("clearTimeout has not been defined")}void 0===H.TYPED_ARRAY_SUPPORT||H.TYPED_ARRAY_SUPPORT;var Y=V,Z=Q;function K(t){if(Y===setTimeout)return setTimeout(t,0);if((Y===V||!Y)&&setTimeout)return Y=setTimeout,setTimeout(t,0);try{return Y(t,0)}catch(e){try{return Y.call(null,t,0)}catch(e){return Y.call(this,t,0)}}}"function"==typeof H.setTimeout&&(Y=setTimeout),"function"==typeof H.clearTimeout&&(Z=clearTimeout);var X,tt=[],et=!1,rt=-1;function nt(){et&&X&&(et=!1,X.length?tt=X.concat(tt):rt=-1,tt.length&&ot())}function ot(){if(!et){var t=K(nt);et=!0;for(var e=tt.length;e;){for(X=tt,tt=[];++rt<e;)X&&X[rt].run();rt=-1,e=tt.length}X=null,et=!1,function(t){if(Z===clearTimeout)return clearTimeout(t);if((Z===Q||!Z)&&clearTimeout)return Z=clearTimeout,clearTimeout(t);try{Z(t)}catch(e){try{return Z.call(null,t)}catch(e){return Z.call(this,t)}}}(t)}}function it(t,e){this.fun=t,this.array=e}it.prototype.run=function(){this.fun.apply(null,this.array)};function at(){}var ct=at,ut=at,st=at,lt=at,ft=at,pt=at,yt=at;var ht=H.performance||{},dt=ht.now||ht.mozNow||ht.msNow||ht.oNow||ht.webkitNow||function(){return(new Date).getTime()};var gt=new Date;var bt={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];tt.push(new it(t,e)),1!==tt.length||et||K(ot)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ct,addListener:ut,once:st,off:lt,removeListener:ft,removeAllListeners:pt,emit:yt,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*dt.call(ht),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-gt)/1e3}},mt="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},vt=/%[sdj%]/g;function St(t){if(!Tt(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Pt(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(t).replace(vt,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),a=n[r];r<o;a=n[++r])zt(a)||!Mt(a)?i+=" "+a:i+=" "+Pt(a);return i}function wt(t,e){if(Ct(H.process))return function(){return wt(t,e).apply(this,arguments)};if(!0===bt.noDeprecation)return t;var r=!1;return function(){if(!r){if(bt.throwDeprecation)throw new Error(e);bt.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}}var jt,At={};function Ot(t){if(Ct(jt)&&(jt=bt.env.NODE_DEBUG||""),t=t.toUpperCase(),!At[t])if(new RegExp("\\b"+t+"\\b","i").test(jt)){At[t]=function(){var e=St.apply(null,arguments);console.error("%s %d: %s",t,0,e)}}else At[t]=function(){};return At[t]}function Pt(t,e){var r={seen:[],stylize:Et};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Nt(e)?r.showHidden=e:e&&Zt(r,e),Ct(r.showHidden)&&(r.showHidden=!1),Ct(r.depth)&&(r.depth=2),Ct(r.colors)&&(r.colors=!1),Ct(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=xt),kt(r,t,r.depth)}function xt(t,e){var r=Pt.styles[e];return r?"["+Pt.colors[r][0]+"m"+t+"["+Pt.colors[r][1]+"m":t}function Et(t,e){return t}function kt(t,e,r){if(t.customInspect&&e&&Wt(e.inspect)&&e.inspect!==Pt&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return Tt(n)||(n=kt(t,n,r)),n}var o=function(t,e){if(Ct(e))return t.stylize("undefined","undefined");if(Tt(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(It(e))return t.stylize(""+e,"number");if(Nt(e))return t.stylize(""+e,"boolean");if(zt(e))return t.stylize("null","null")}(t,e);if(o)return o;var i=Object.keys(e),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),qt(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return _t(e);if(0===i.length){if(Wt(e)){var c=e.name?": "+e.name:"";return t.stylize("[Function"+c+"]","special")}if(Bt(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Lt(e))return t.stylize(Date.prototype.toString.call(e),"date");if(qt(e))return _t(e)}var u,s="",l=!1,f=["{","}"];(Ft(e)&&(l=!0,f=["[","]"]),Wt(e))&&(s=" [Function"+(e.name?": "+e.name:"")+"]");return Bt(e)&&(s=" "+RegExp.prototype.toString.call(e)),Lt(e)&&(s=" "+Date.prototype.toUTCString.call(e)),qt(e)&&(s=" "+_t(e)),0!==i.length||l&&0!=e.length?r<0?Bt(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),u=l?function(t,e,r,n,o){for(var i=[],a=0,c=e.length;a<c;++a)Kt(e,String(a))?i.push(Rt(t,e,r,n,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(Rt(t,e,r,n,o,!0))})),i}(t,e,r,a,i):i.map((function(n){return Rt(t,e,r,a,n,l)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(u,s,f)):f[0]+s+f[1]}function _t(t){return"["+Error.prototype.toString.call(t)+"]"}function Rt(t,e,r,n,o,i){var a,c,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?c=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(c=t.stylize("[Setter]","special")),Kt(n,o)||(a="["+o+"]"),c||(t.seen.indexOf(u.value)<0?(c=zt(r)?kt(t,u.value,null):kt(t,u.value,r-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+c.split("\n").map((function(t){return"   "+t})).join("\n")):c=t.stylize("[Circular]","special")),Ct(a)){if(i&&o.match(/^\d+$/))return c;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}function Ft(t){return Array.isArray(t)}function Nt(t){return"boolean"==typeof t}function zt(t){return null===t}function Ut(t){return null==t}function It(t){return"number"==typeof t}function Tt(t){return"string"==typeof t}function Dt(t){return"symbol"==typeof t}function Ct(t){return void 0===t}function Bt(t){return Mt(t)&&"[object RegExp]"===Gt(t)}function Mt(t){return"object"==typeof t&&null!==t}function Lt(t){return Mt(t)&&"[object Date]"===Gt(t)}function qt(t){return Mt(t)&&("[object Error]"===Gt(t)||t instanceof Error)}function Wt(t){return"function"==typeof t}function $t(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function Ht(t){return G(t)}function Gt(t){return Object.prototype.toString.call(t)}function Jt(t){return t<10?"0"+t.toString(10):t.toString(10)}Pt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Pt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Vt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Qt(){var t=new Date,e=[Jt(t.getHours()),Jt(t.getMinutes()),Jt(t.getSeconds())].join(":");return[t.getDate(),Vt[t.getMonth()],e].join(" ")}function Yt(){console.log("%s - %s",Qt(),St.apply(null,arguments))}function Zt(t,e){if(!e||!Mt(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function Kt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Xt={inherits:mt,_extend:Zt,log:Yt,isBuffer:Ht,isPrimitive:$t,isFunction:Wt,isError:qt,isDate:Lt,isObject:Mt,isRegExp:Bt,isUndefined:Ct,isSymbol:Dt,isString:Tt,isNumber:It,isNullOrUndefined:Ut,isNull:zt,isBoolean:Nt,isArray:Ft,inspect:Pt,deprecate:wt,format:St,debuglog:Ot},te=e(Object.freeze({__proto__:null,format:St,deprecate:wt,debuglog:Ot,inspect:Pt,isArray:Ft,isBoolean:Nt,isNull:zt,isNullOrUndefined:Ut,isNumber:It,isString:Tt,isSymbol:Dt,isUndefined:Ct,isRegExp:Bt,isObject:Mt,isDate:Lt,isError:qt,isFunction:Wt,isPrimitive:$t,isBuffer:Ht,log:Yt,inherits:mt,_extend:Zt,default:Xt})).inspect,ee="function"==typeof Map&&Map.prototype,re=Object.getOwnPropertyDescriptor&&ee?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ne=ee&&re&&"function"==typeof re.get?re.get:null,oe=ee&&Map.prototype.forEach,ie="function"==typeof Set&&Set.prototype,ae=Object.getOwnPropertyDescriptor&&ie?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ce=ie&&ae&&"function"==typeof ae.get?ae.get:null,ue=ie&&Set.prototype.forEach,se="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,le="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,fe="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,pe=Boolean.prototype.valueOf,ye=Object.prototype.toString,he=Function.prototype.toString,de=String.prototype.match,ge=String.prototype.slice,be=String.prototype.replace,me=String.prototype.toUpperCase,ve=String.prototype.toLowerCase,Se=RegExp.prototype.test,we=Array.prototype.concat,je=Array.prototype.join,Ae=Array.prototype.slice,Oe=Math.floor,Pe="function"==typeof BigInt?BigInt.prototype.valueOf:null,xe=Object.getOwnPropertySymbols,Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ke="function"==typeof Symbol&&"object"==typeof Symbol.iterator,_e="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ke||"symbol")?Symbol.toStringTag:null,Re=Object.prototype.propertyIsEnumerable,Fe=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Ne(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||Se.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-Oe(-t):Oe(t);if(n!==t){var o=String(n),i=ge.call(e,o.length+1);return be.call(o,r,"$&_")+"."+be.call(be.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return be.call(e,r,"$&_")}var ze=te,Ue=ze.custom,Ie=Me(Ue)?Ue:null;function Te(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function De(t){return be.call(String(t),/"/g,"&quot;")}function Ce(t){return!("[object Array]"!==We(t)||_e&&"object"==typeof t&&_e in t)}function Be(t){return!("[object RegExp]"!==We(t)||_e&&"object"==typeof t&&_e in t)}function Me(t){if(ke)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!Ee)return!1;try{return Ee.call(t),!0}catch(t){}return!1}var Le=Object.prototype.hasOwnProperty||function(t){return t in this};function qe(t,e){return Le.call(t,e)}function We(t){return ye.call(t)}function $e(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function He(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return He(ge.call(t,0,e.maxStringLength),e)+n}return Te(be.call(be.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Ge),"single",e)}function Ge(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+me.call(e.toString(16))}function Je(t){return"Object("+t+")"}function Ve(t){return t+" { ? }"}function Qe(t,e,r,n){return t+" ("+e+") {"+(n?Ye(r,n):je.call(r,", "))+"}"}function Ye(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+je.call(t,","+r)+"\n"+e.prev}function Ze(t,e){var r=Ce(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=qe(t,o)?e(t[o],t):""}var i,a="function"==typeof xe?xe(t):[];if(ke){i={};for(var c=0;c<a.length;c++)i["$"+a[c]]=a[c]}for(var u in t)qe(t,u)&&(r&&String(Number(u))===u&&u<t.length||ke&&i["$"+u]instanceof Symbol||(Se.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if("function"==typeof xe)for(var s=0;s<a.length;s++)Re.call(t,a[s])&&n.push("["+e(a[s])+"]: "+e(t[a[s]],t));return n}var Ke=M,Xe=function(t,e){var r=q(t,!!e);return"function"==typeof r&&$(t,".prototype.")>-1?W(r):r},tr=function t(e,r,n,o){var i=r||{};if(qe(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(qe(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&i.maxStringLength!==1/0:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!qe(i,"customInspect")||i.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(qe(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(qe(i,"numericSeparator")&&"boolean"!=typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=i.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return He(e,i);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var u=String(e);return c?Ne(e,u):u}if("bigint"==typeof e){var s=String(e)+"n";return c?Ne(e,s):s}var l=void 0===i.depth?5:i.depth;if(void 0===n&&(n=0),n>=l&&l>0&&"object"==typeof e)return Ce(e)?"[Array]":"[Object]";var f=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=je.call(Array(t.indent+1)," ")}return{base:r,prev:je.call(Array(e+1),r)}}(i,n);if(void 0===o)o=[];else if($e(o,e)>=0)return"[Circular]";function p(e,r,a){if(r&&(o=Ae.call(o)).push(r),a){var c={depth:i.depth};return qe(i,"quoteStyle")&&(c.quoteStyle=i.quoteStyle),t(e,c,n+1,o)}return t(e,i,n+1,o)}if("function"==typeof e&&!Be(e)){var y=function(t){if(t.name)return t.name;var e=de.call(he.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),h=Ze(e,p);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(h.length>0?" { "+je.call(h,", ")+" }":"")}if(Me(e)){var d=ke?be.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ee.call(e);return"object"!=typeof e||ke?d:Je(d)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var g="<"+ve.call(String(e.nodeName)),b=e.attributes||[],m=0;m<b.length;m++)g+=" "+b[m].name+"="+Te(De(b[m].value),"double",i);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+ve.call(String(e.nodeName))+">"}if(Ce(e)){if(0===e.length)return"[]";var v=Ze(e,p);return f&&!function(t){for(var e=0;e<t.length;e++)if($e(t[e],"\n")>=0)return!1;return!0}(v)?"["+Ye(v,f)+"]":"[ "+je.call(v,", ")+" ]"}if(function(t){return!("[object Error]"!==We(t)||_e&&"object"==typeof t&&_e in t)}(e)){var S=Ze(e,p);return"cause"in Error.prototype||!("cause"in e)||Re.call(e,"cause")?0===S.length?"["+String(e)+"]":"{ ["+String(e)+"] "+je.call(S,", ")+" }":"{ ["+String(e)+"] "+je.call(we.call("[cause]: "+p(e.cause),S),", ")+" }"}if("object"==typeof e&&a){if(Ie&&"function"==typeof e[Ie]&&ze)return ze(e,{depth:l-n});if("symbol"!==a&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!ne||!t||"object"!=typeof t)return!1;try{ne.call(t);try{ce.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var w=[];return oe.call(e,(function(t,r){w.push(p(r,e,!0)+" => "+p(t,e))})),Qe("Map",ne.call(e),w,f)}if(function(t){if(!ce||!t||"object"!=typeof t)return!1;try{ce.call(t);try{ne.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var j=[];return ue.call(e,(function(t){j.push(p(t,e))})),Qe("Set",ce.call(e),j,f)}if(function(t){if(!se||!t||"object"!=typeof t)return!1;try{se.call(t,se);try{le.call(t,le)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Ve("WeakMap");if(function(t){if(!le||!t||"object"!=typeof t)return!1;try{le.call(t,le);try{se.call(t,se)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Ve("WeakSet");if(function(t){if(!fe||!t||"object"!=typeof t)return!1;try{return fe.call(t),!0}catch(t){}return!1}(e))return Ve("WeakRef");if(function(t){return!("[object Number]"!==We(t)||_e&&"object"==typeof t&&_e in t)}(e))return Je(p(Number(e)));if(function(t){if(!t||"object"!=typeof t||!Pe)return!1;try{return Pe.call(t),!0}catch(t){}return!1}(e))return Je(p(Pe.call(e)));if(function(t){return!("[object Boolean]"!==We(t)||_e&&"object"==typeof t&&_e in t)}(e))return Je(pe.call(e));if(function(t){return!("[object String]"!==We(t)||_e&&"object"==typeof t&&_e in t)}(e))return Je(p(String(e)));if(!function(t){return!("[object Date]"!==We(t)||_e&&"object"==typeof t&&_e in t)}(e)&&!Be(e)){var A=Ze(e,p),O=Fe?Fe(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",x=!O&&_e&&Object(e)===e&&_e in e?ge.call(We(e),8,-1):P?"Object":"",E=(O||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(x||P?"["+je.call(we.call([],x||[],P||[]),": ")+"] ":"");return 0===A.length?E+"{}":f?E+"{"+Ye(A,f)+"}":E+"{ "+je.call(A,", ")+" }"}return String(e)},er=Ke("%TypeError%"),rr=Ke("%WeakMap%",!0),nr=Ke("%Map%",!0),or=Xe("WeakMap.prototype.get",!0),ir=Xe("WeakMap.prototype.set",!0),ar=Xe("WeakMap.prototype.has",!0),cr=Xe("Map.prototype.get",!0),ur=Xe("Map.prototype.set",!0),sr=Xe("Map.prototype.has",!0),lr=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},fr=String.prototype.replace,pr=/%20/g,yr="RFC3986",hr={default:yr,formatters:{RFC1738:function(t){return fr.call(t,pr,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:yr},dr=hr,gr=Object.prototype.hasOwnProperty,br=Array.isArray,mr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),vr=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},Sr={arrayToObject:vr,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],i=o.obj[o.prop],a=Object.keys(i),c=0;c<a.length;++c){var u=a[c],s=i[u];"object"==typeof s&&null!==s&&-1===r.indexOf(s)&&(e.push({obj:i,prop:u}),r.push(s))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(br(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,n,o){if(0===t.length)return t;var i=t;if("symbol"==typeof t?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var a="",c=0;c<i.length;++c){var u=i.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===dr.RFC1738&&(40===u||41===u)?a+=i.charAt(c):u<128?a+=mr[u]:u<2048?a+=mr[192|u>>6]+mr[128|63&u]:u<55296||u>=57344?a+=mr[224|u>>12]+mr[128|u>>6&63]+mr[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&i.charCodeAt(c)),a+=mr[240|u>>18]+mr[128|u>>12&63]+mr[128|u>>6&63]+mr[128|63&u])}return a},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(br(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(br(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!gr.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var o=e;return br(e)&&!br(r)&&(o=vr(e,n)),br(e)&&br(r)?(r.forEach((function(r,o){if(gr.call(e,o)){var i=e[o];i&&"object"==typeof i&&r&&"object"==typeof r?e[o]=t(i,r,n):e.push(r)}else e[o]=r})),e):Object.keys(r).reduce((function(e,o){var i=r[o];return gr.call(e,o)?e[o]=t(e[o],i,n):e[o]=i,e}),o)}},wr=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new er("Side channel does not contain "+tr(t))},get:function(n){if(rr&&n&&("object"==typeof n||"function"==typeof n)){if(t)return or(t,n)}else if(nr){if(e)return cr(e,n)}else if(r)return function(t,e){var r=lr(t,e);return r&&r.value}(r,n)},has:function(n){if(rr&&n&&("object"==typeof n||"function"==typeof n)){if(t)return ar(t,n)}else if(nr){if(e)return sr(e,n)}else if(r)return function(t,e){return!!lr(t,e)}(r,n);return!1},set:function(n,o){rr&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new rr),ir(t,n,o)):nr?(e||(e=new nr),ur(e,n,o)):(r||(r={key:{},next:null}),function(t,e,r){var n=lr(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,o))}};return n},jr=Sr,Ar=hr,Or=Object.prototype.hasOwnProperty,Pr={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},xr=Array.isArray,Er=String.prototype.split,kr=Array.prototype.push,_r=function(t,e){kr.apply(t,xr(e)?e:[e])},Rr=Date.prototype.toISOString,Fr=Ar.default,Nr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:jr.encode,encodeValuesOnly:!1,format:Fr,formatter:Ar.formatters[Fr],indices:!1,serializeDate:function(t){return Rr.call(t)},skipNulls:!1,strictNullHandling:!1},zr={},Ur=function t(e,r,n,o,i,a,c,u,s,l,f,p,y,h,d){for(var g,b=e,m=d,v=0,S=!1;void 0!==(m=m.get(zr))&&!S;){var w=m.get(e);if(v+=1,void 0!==w){if(w===v)throw new RangeError("Cyclic object value");S=!0}void 0===m.get(zr)&&(v=0)}if("function"==typeof c?b=c(r,b):b instanceof Date?b=l(b):"comma"===n&&xr(b)&&(b=jr.maybeMap(b,(function(t){return t instanceof Date?l(t):t}))),null===b){if(o)return a&&!y?a(r,Nr.encoder,h,"key",f):r;b=""}if("string"==typeof(g=b)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||jr.isBuffer(b)){if(a){var j=y?r:a(r,Nr.encoder,h,"key",f);if("comma"===n&&y){for(var A=Er.call(String(b),","),O="",P=0;P<A.length;++P)O+=(0===P?"":",")+p(a(A[P],Nr.encoder,h,"value",f));return[p(j)+"="+O]}return[p(j)+"="+p(a(b,Nr.encoder,h,"value",f))]}return[p(r)+"="+p(String(b))]}var x,E=[];if(void 0===b)return E;if("comma"===n&&xr(b))x=[{value:b.length>0?b.join(",")||null:void 0}];else if(xr(c))x=c;else{var k=Object.keys(b);x=u?k.sort(u):k}for(var _=0;_<x.length;++_){var R=x[_],F="object"==typeof R&&void 0!==R.value?R.value:b[R];if(!i||null!==F){var N=xr(b)?"function"==typeof n?n(r,R):r:r+(s?"."+R:"["+R+"]");d.set(e,v);var z=wr();z.set(zr,d),_r(E,t(F,N,n,o,i,a,c,u,s,l,f,p,y,h,z))}}return E},Ir=Sr,Tr=Object.prototype.hasOwnProperty,Dr=Array.isArray,Cr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ir.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Br=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},Mr=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Lr=function(t,e,r,n){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(o),c=a?o.slice(0,a.index):o,u=[];if(c){if(!r.plainObjects&&Tr.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var s=0;r.depth>0&&null!==(a=i.exec(o))&&s<r.depth;){if(s+=1,!r.plainObjects&&Tr.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+o.slice(a.index)+"]"),function(t,e,r,n){for(var o=n?e:Mr(e,r),i=t.length-1;i>=0;--i){var a,c=t[i];if("[]"===c&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var u="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,s=parseInt(u,10);r.parseArrays||""!==u?!isNaN(s)&&c!==u&&String(s)===u&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(a=[])[s]=o:"__proto__"!==u&&(a[u]=o):a={0:o}}o=a}return o}(u,e,r,n)}},qr=function(t,e){var r,n=t,o=function(t){if(!t)return Nr;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||Nr.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Ar.default;if(void 0!==t.format){if(!Or.call(Ar.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=Ar.formatters[r],o=Nr.filter;return("function"==typeof t.filter||xr(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:Nr.addQueryPrefix,allowDots:void 0===t.allowDots?Nr.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Nr.charsetSentinel,delimiter:void 0===t.delimiter?Nr.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:Nr.encode,encoder:"function"==typeof t.encoder?t.encoder:Nr.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:Nr.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:Nr.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:Nr.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Nr.strictNullHandling}}(e);"function"==typeof o.filter?n=(0,o.filter)("",n):xr(o.filter)&&(r=o.filter);var i,a=[];if("object"!=typeof n||null===n)return"";i=e&&e.arrayFormat in Pr?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var c=Pr[i];r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);for(var u=wr(),s=0;s<r.length;++s){var l=r[s];o.skipNulls&&null===n[l]||_r(a,Ur(n[l],l,c,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,u))}var f=a.join(o.delimiter),p=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},Wr={formats:hr,parse:function(t,e){var r=function(t){if(!t)return Cr;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?Cr.charset:t.charset;return{allowDots:void 0===t.allowDots?Cr.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:Cr.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:Cr.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:Cr.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Cr.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:Cr.comma,decoder:"function"==typeof t.decoder?t.decoder:Cr.decoder,delimiter:"string"==typeof t.delimiter||Ir.isRegExp(t.delimiter)?t.delimiter:Cr.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:Cr.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:Cr.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:Cr.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:Cr.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Cr.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?function(t,e){var r,n={},o=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=e.parameterLimit===1/0?void 0:e.parameterLimit,a=o.split(e.delimiter,i),c=-1,u=e.charset;if(e.charsetSentinel)for(r=0;r<a.length;++r)0===a[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[r]?u="utf-8":"utf8=%26%2310003%3B"===a[r]&&(u="iso-8859-1"),c=r,r=a.length);for(r=0;r<a.length;++r)if(r!==c){var s,l,f=a[r],p=f.indexOf("]="),y=-1===p?f.indexOf("="):p+1;-1===y?(s=e.decoder(f,Cr.decoder,u,"key"),l=e.strictNullHandling?null:""):(s=e.decoder(f.slice(0,y),Cr.decoder,u,"key"),l=Ir.maybeMap(Mr(f.slice(y+1),e),(function(t){return e.decoder(t,Cr.decoder,u,"value")}))),l&&e.interpretNumericEntities&&"iso-8859-1"===u&&(l=Br(l)),f.indexOf("[]=")>-1&&(l=Dr(l)?[l]:l),Tr.call(n,s)?n[s]=Ir.combine(n[s],l):n[s]=l}return n}(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var c=i[a],u=Lr(c,n[c],r,"string"==typeof t);o=Ir.merge(o,u,r)}return!0===r.allowSparse?o:Ir.compact(o)},stringify:qr};const $r={method:"get",params:{},data:"",timeout:1e3,credentials:"same-origin",headers:{},mod:"same-origin",prefix:"",suffix:"",requestType:"json",responseType:"json",hooks:[t=>{if(t.status>=200&&t.status<300)return t;throw new Error(`request error: ${t.statusText}`)}]};class Hr{constructor(t){this.opts=t||{}}_request(e,r,n){var o,i,a;return t(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign(Object.assign({},this.opts),n),{method:e}),c=null!==(o=t.prefix)&&void 0!==o?o:"",u=null!==(i=t.suffix)&&void 0!==i?i:"";if(r=`${c}${r}${u}`,t.params){const e=Object.prototype.toString.call(t.params);"[object URLSearchParams]"===e?t.params=t.params.toString():"[object Object]"!==e&&"[object Array]"!==e||(t.params=Wr.stringify(t.params,{arrayFormat:"brackets"}));const n=-1!==r.indexOf("?")?"&":"?";r=`${r}${n}${t.params}`}const s=new Request(r);let l=fetch(s,(t=>{var e;const r={},n=Object.assign(Object.assign({},$r),t),{requestType:o="json",data:i}=n;let a;if(i){const t=Object.prototype.toString.call(i);"[object Object]"===t||"[object Array]"===t?"json"===o?(n.headers=Object.assign({Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},n.headers),a=JSON.stringify(i)):"form"===o&&(n.headers=Object.assign({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},n.headers),a=Wr.stringify(i,{arrayFormat:"repeat",strictNullHandling:!0})):(n.headers=Object.assign({Accept:"application/json"},n.headers),a=i)}return r.method=null===(e=n.method)||void 0===e?void 0:e.toUpperCase(),r.headers=n.headers,r.body=a,r.credentials=n.credentials,r.mode=n.mod,r})(t));t.hooks=null!==(a=t.hooks)&&void 0!==a?a:[];for(const e of t.hooks)l=l.then(e);return l}))}get(e,r){return t(this,void 0,void 0,(function*(){return this._request("get",e,r)}))}post(e,r){return t(this,void 0,void 0,(function*(){return this._request("post",e,r)}))}delete(e,r){return t(this,void 0,void 0,(function*(){return this._request("delete",e,r)}))}put(e,r){return t(this,void 0,void 0,(function*(){return this._request("put",e,r)}))}}const Gr=(t=$r)=>new Hr(t);Gr({});class Jr{constructor(t){this.file=t}read(t,e,r,n){const o=Blob.prototype.slice.call(this.file,t,t+e),i=new FileReader;i.onload=t=>{t&&t.target&&t.target.readyState===FileReader.DONE&&r(t.target.result)},i.onerror=t=>{console.log(t),n(Error("fileReader error"))},i.onerror=t=>{console.log(t)},i.readAsArrayBuffer(o)}digest(t,e){const r=File.prototype.slice,n=2097152,i=Math.ceil(this.file.size/n),a=new o.ArrayBuffer,c=new FileReader;let u=0;c.onload=function(r){if(console.log("read chunk nr",u+1,"of",i),r&&r.target&&r.target.readyState===FileReader.DONE)if(a.append(r.target.result),u++,u<i)s();else{console.log("finished loading");const e=a.end();t(e)}else e(Error("hash error"))},c.onerror=function(){console.warn("oops, something went wrong.")};const s=()=>{const t=u*n,e=t+n>=this.size()?this.size():t+n;c.readAsArrayBuffer(r.call(this.file,t,e))};s()}size(){return this.file.size}}class Vr{request(e,r,n){return t(this,void 0,void 0,(function*(){return Gr(n)._request(e,r,n).then((t=>t.json()))}))}initRequest(t,e,r,n,o){const{touchUrl:i}=t,a=Object.assign(Object.assign({},t),{params:e,data:r});this.request("post",i,a).then((t=>{n(t.data)})).catch((t=>{console.log(t),o(t)}))}chunkRequest(t,e,r,n,o){const{uploadUrl:i}=t,a=Object.assign(Object.assign({},t),{params:e,data:r});this.request("post",i,a).then((t=>{n(t.data)})).catch((t=>{console.log(t),o(t)}))}mergeRequest(t,e,r,n,o){const{mergeUrl:i}=t,a=Object.assign(Object.assign({},t),{params:e,data:r});this.request("post",i,a).then((t=>{n(t.data)})).catch((t=>{console.log(t),o(t)}))}}return(t,e)=>new i(t,new Jr(e),new Vr,URLSearchParams)}));
