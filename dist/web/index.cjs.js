"use strict";function t(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}c((n=n.apply(t,e||[])).next())}))}function e(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}var r,n={exports:{}},o=n.exports=function(t){var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(t,e){var r=t[0],n=t[1],o=t[2],i=t[3];n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&o)+e[1]-389564586|0)<<12|i>>>20)+r|0)&r|~i&n)+e[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&r)+e[3]-1044525330|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&o)+e[5]+1200080426|0)<<12|i>>>20)+r|0)&r|~i&n)+e[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&r)+e[7]-45705983|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&o)+e[9]-1958414417|0)<<12|i>>>20)+r|0)&r|~i&n)+e[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&r)+e[11]-1990404162|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&o|~n&i)+e[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&o)+e[13]-40341101|0)<<12|i>>>20)+r|0)&r|~i&n)+e[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&r)+e[15]+1236535329|0)<<22|n>>>10)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[1]-165796510|0)<<5|r>>>27)+n|0)&o|n&~o)+e[6]-1069501632|0)<<9|i>>>23)+r|0)&n|r&~n)+e[11]+643717713|0)<<14|o>>>18)+i|0)&r|i&~r)+e[0]-373897302|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[5]-701558691|0)<<5|r>>>27)+n|0)&o|n&~o)+e[10]+38016083|0)<<9|i>>>23)+r|0)&n|r&~n)+e[15]-660478335|0)<<14|o>>>18)+i|0)&r|i&~r)+e[4]-405537848|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[9]+568446438|0)<<5|r>>>27)+n|0)&o|n&~o)+e[14]-1019803690|0)<<9|i>>>23)+r|0)&n|r&~n)+e[3]-187363961|0)<<14|o>>>18)+i|0)&r|i&~r)+e[8]+1163531501|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n&i|o&~i)+e[13]-1444681467|0)<<5|r>>>27)+n|0)&o|n&~o)+e[2]-51403784|0)<<9|i>>>23)+r|0)&n|r&~n)+e[7]+1735328473|0)<<14|o>>>18)+i|0)&r|i&~r)+e[12]-1926607734|0)<<20|n>>>12)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[5]-378558|0)<<4|r>>>28)+n|0)^n^o)+e[8]-2022574463|0)<<11|i>>>21)+r|0)^r^n)+e[11]+1839030562|0)<<16|o>>>16)+i|0)^i^r)+e[14]-35309556|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[1]-1530992060|0)<<4|r>>>28)+n|0)^n^o)+e[4]+1272893353|0)<<11|i>>>21)+r|0)^r^n)+e[7]-155497632|0)<<16|o>>>16)+i|0)^i^r)+e[10]-1094730640|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[13]+681279174|0)<<4|r>>>28)+n|0)^n^o)+e[0]-358537222|0)<<11|i>>>21)+r|0)^r^n)+e[3]-722521979|0)<<16|o>>>16)+i|0)^i^r)+e[6]+76029189|0)<<23|n>>>9)+o|0,n=((n+=((o=((o+=((i=((i+=((r=((r+=(n^o^i)+e[9]-640364487|0)<<4|r>>>28)+n|0)^n^o)+e[12]-421815835|0)<<11|i>>>21)+r|0)^r^n)+e[15]+530742520|0)<<16|o>>>16)+i|0)^i^r)+e[2]-995338651|0)<<23|n>>>9)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[0]-198630844|0)<<6|r>>>26)+n|0)|~o))+e[7]+1126891415|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[14]-1416354905|0)<<15|o>>>17)+i|0)|~r))+e[5]-57434055|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[12]+1700485571|0)<<6|r>>>26)+n|0)|~o))+e[3]-1894986606|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[10]-1051523|0)<<15|o>>>17)+i|0)|~r))+e[1]-2054922799|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[8]+1873313359|0)<<6|r>>>26)+n|0)|~o))+e[15]-30611744|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[6]-1560198380|0)<<15|o>>>17)+i|0)|~r))+e[13]+1309151649|0)<<21|n>>>11)+o|0,n=((n+=((i=((i+=(n^((r=((r+=(o^(n|~i))+e[4]-145523070|0)<<6|r>>>26)+n|0)|~o))+e[11]-1120210379|0)<<10|i>>>22)+r|0)^((o=((o+=(r^(i|~n))+e[2]+718787259|0)<<15|o>>>17)+i|0)|~r))+e[9]-343485551|0)<<21|n>>>11)+o|0,t[0]=r+t[0]|0,t[1]=n+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function n(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function o(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function i(t){var e,o,i,a,u,c,s=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)r(l,n(t.substring(e-64,e)));for(o=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<o;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(r(l,i),e=0;e<16;e+=1)i[e]=0;return a=(a=8*s).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=u,i[15]=c,r(l,i),l}function a(t){var e,n,i,a,u,c,s=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)r(l,o(t.subarray(e-64,e)));for(n=(t=e-64<s?t.subarray(e-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(r(l,i),e=0;e<16;e+=1)i[e]=0;return a=(a=8*s).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),c=parseInt(a[1],16)||0,i[14]=u,i[15]=c,r(l,i),l}function u(t){var r,n="";for(r=0;r<4;r+=1)n+=e[t>>8*r+4&15]+e[t>>8*r&15];return n}function c(t){var e;for(e=0;e<t.length;e+=1)t[e]=u(t[e]);return t.join("")}function s(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function l(t,e){var r,n=t.length,o=new ArrayBuffer(n),i=new Uint8Array(o);for(r=0;r<n;r+=1)i[r]=t.charCodeAt(r);return e?i:o}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function p(t,e,r){var n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t)),n.set(new Uint8Array(e),t.byteLength),r?n:n.buffer}function y(t){var e,r=[],n=t.length;for(e=0;e<n-1;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function h(){this.reset()}return c(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(r,n){var o,i,a,u,c=this.byteLength,s=e(r,c),l=c;return n!==t&&(l=e(n,c)),s>l?new ArrayBuffer(0):(o=l-s,i=new ArrayBuffer(o),a=new Uint8Array(i),u=new Uint8Array(this,s,o),a.set(u),i)}}(),h.prototype.append=function(t){return this.appendBinary(s(t)),this},h.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,o=this._buff.length;for(e=64;e<=o;e+=64)r(this._hash,n(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},h.prototype.end=function(t){var e,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),r=c(this._hash),t&&(r=y(r)),this.reset(),r},h.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},h.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},h.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},h.prototype._finish=function(t,e){var n,o,i,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(r(this._hash,t),a=0;a<16;a+=1)t[a]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=o,t[15]=i,r(this._hash,t)},h.hash=function(t,e){return h.hashBinary(s(t),e)},h.hashBinary=function(t,e){var r=c(i(t));return e?y(r):r},h.ArrayBuffer=function(){this.reset()},h.ArrayBuffer.prototype.append=function(t){var e,n=p(this._buff.buffer,t,!0),i=n.length;for(this._length+=t.byteLength,e=64;e<=i;e+=64)r(this._hash,o(n.subarray(e-64,e)));return this._buff=e-64<i?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},h.ArrayBuffer.prototype.end=function(t){var e,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=n[e]<<(e%4<<3);return this._finish(i,o),r=c(this._hash),t&&(r=y(r)),this.reset(),r},h.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},h.ArrayBuffer.prototype.getState=function(){var t=h.prototype.getState.call(this);return t.buff=f(t.buff),t},h.ArrayBuffer.prototype.setState=function(t){return t.buff=l(t.buff,!0),h.prototype.setState.call(this,t)},h.ArrayBuffer.prototype.destroy=h.prototype.destroy,h.ArrayBuffer.prototype._finish=h.prototype._finish,h.ArrayBuffer.hash=function(t,e){var r=c(a(new Uint8Array(t)));return e?y(r):r},h}();!function(t){t[t.InitializeStatus=0]="InitializeStatus",t[t.PendingStatus=1]="PendingStatus",t[t.FulfilledStatus=2]="FulfilledStatus",t[t.RejectStatus=3]="RejectStatus"}(r||(r={}));class i{constructor(t,e,r,n){this.uspType=n,this.chunks=[],this.uploadedSize=0,this.digest="",this.init=t=>{this.f.digest((e=>{console.log(e),this.digest=e,this.f.read(0,200,(r=>{const n=this.getNew();n.set("size",this.f.size().toString()),n.set("digest",e),n.set("chunk_size",this.chunksize.toString()),n.set("ts",Date.now().toString()),this.r.initRequest(this.ctx,n,r,t,this.fail)}),(t=>{console.log(t)}))}),(t=>{console.log(t)}))},this.uploadChunk=(t,e,r,n,i)=>{const a=this,u=this.getNew();u.set("upload_id",t),u.set("index",r.toString());const c=new TextDecoder("utf-8").decode(n);u.set("digest",o.hash(c)),this.r.chunkRequest(this.ctx,u,n,(t=>{console.log(t),a.chunks.push({index:r,etag:t.etag}),r<a.totalChunks-1?a.uploadedSize+=a.chunksize:a.uploadedSize+=a.totalSize-a.chunksize*(a.totalChunks-1),a.progress({uploadedSize:a.uploadedSize,totalSize:a.totalSize}),i()}),this.fail)},this.ctx=t,this.f=e,this.r=r,this.totalSize=this.f.size(),this.chunksize=this.ctx.chunkSize||2097152,this.totalChunks=Math.ceil(this.totalSize/this.chunksize),this.maxConcurrency=Math.min(this.totalChunks,this.ctx.maxConcurrency||5),this.tasks=Array.from({length:this.totalChunks},((t,e)=>e))}getNew(){return new this.uspType}upload(t){const e=this;for(let t=0;t<this.chunks.length;t++){this.chunks[t].index<this.totalChunks-1?this.uploadedSize+=this.chunksize:this.uploadedSize+=this.totalSize-this.chunksize*(this.totalChunks-1),this.progress({uploadedSize:this.uploadedSize,totalSize:this.totalSize})}Promise.all(Array.from({length:this.maxConcurrency},((r,n)=>new Promise((r=>{const o=()=>{const i=this.tasks.shift();if(void 0===i)return void r(n);const a=i*this.chunksize,u=a+this.chunksize>=this.totalSize?this.totalSize:a+this.chunksize;e.f.read(a,u-a,(r=>{e.uploadChunk(t.upload_id,n,i,r,o)}),(t=>{console.log(t)}))};o()}))))).then((e=>{console.log(e),this.merge(t.upload_id)})).catch((t=>console.log(t)))}success(t){console.log("success",t),this.complete(t)}fail(t){console.log(t)}progress(t){console.log("progress",t)}complete(t){console.log(t)}merge(t){const e=this.getNew();e.set("upload_id",t),e.set("digest",this.digest);const r=JSON.stringify(this.chunks),n=this;this.r.mergeRequest(this.ctx,e,r,(t=>{n.success(t)}),this.fail)}on(t,e){switch(t){case"progress":this.progress=e;break;case"retry":break;case"success":this.success=e;break;case"fail":this.fail=e;break;case"complete":this.complete=e}}run(){this.init((t=>{switch(t.status){case 0:this.upload(t);case 1:this.chunks=t.chunks,this.upload(t);break;case 2:this.success(t)}console.log(t.upload_id)}))}}var a="undefined"!=typeof Symbol&&Symbol,u=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0},c="Function.prototype.bind called on incompatible ",s=Array.prototype.slice,l=Object.prototype.toString,f=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==l.call(e))throw new TypeError(c+e);for(var r,n=s.call(arguments,1),o=function(){if(this instanceof r){var o=e.apply(this,n.concat(s.call(arguments)));return Object(o)===o?o:this}return e.apply(t,n.concat(s.call(arguments)))},i=Math.max(0,e.length-n.length),a=[],u=0;u<i;u++)a.push("$"+u);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(o),e.prototype){var f=function(){};f.prototype=e.prototype,r.prototype=new f,f.prototype=null}return r},p=Function.prototype.bind||f,y=p.call(Function.call,Object.prototype.hasOwnProperty),h=SyntaxError,d=Function,g=TypeError,b=function(t){try{return d('"use strict"; return ('+t+").constructor;")()}catch(t){}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch(t){m=null}var v=function(){throw new g},S=m?function(){try{return v}catch(t){try{return m(arguments,"callee").get}catch(t){return v}}}():v,w="function"==typeof a&&"function"==typeof Symbol&&"symbol"==typeof a("foo")&&"symbol"==typeof Symbol("bar")&&u(),j=Object.getPrototypeOf||function(t){return t.__proto__},A={},O="undefined"==typeof Uint8Array?undefined:j(Uint8Array),P={"%AggregateError%":"undefined"==typeof AggregateError?undefined:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined:ArrayBuffer,"%ArrayIteratorPrototype%":w?j([][Symbol.iterator]()):undefined,"%AsyncFromSyncIteratorPrototype%":undefined,"%AsyncFunction%":A,"%AsyncGenerator%":A,"%AsyncGeneratorFunction%":A,"%AsyncIteratorPrototype%":A,"%Atomics%":"undefined"==typeof Atomics?undefined:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":A,"%Int8Array%":"undefined"==typeof Int8Array?undefined:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w?j(j([][Symbol.iterator]())):undefined,"%JSON%":"object"==typeof JSON?JSON:undefined,"%Map%":"undefined"==typeof Map?undefined:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&w?j((new Map)[Symbol.iterator]()):undefined,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&w?j((new Set)[Symbol.iterator]()):undefined,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w?j(""[Symbol.iterator]()):undefined,"%Symbol%":w?Symbol:undefined,"%SyntaxError%":h,"%ThrowTypeError%":S,"%TypedArray%":O,"%TypeError%":g,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined:WeakSet},x=function t(e){var r;if("%AsyncFunction%"===e)r=b("async function () {}");else if("%GeneratorFunction%"===e)r=b("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=b("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(r=j(o.prototype))}return P[e]=r,r},E={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=p,_=y,R=k.call(Function.call,Array.prototype.concat),F=k.call(Function.apply,Array.prototype.splice),N=k.call(Function.call,String.prototype.replace),z=k.call(Function.call,String.prototype.slice),U=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,D=function(t){var e=z(t,0,1),r=z(t,-1);if("%"===e&&"%"!==r)throw new h("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new h("invalid intrinsic syntax, expected opening `%`");var n=[];return N(t,U,(function(t,e,r,o){n[n.length]=r?N(o,I,"$1"):e||t})),n},T=function(t,e){var r,n=t;if(_(E,n)&&(n="%"+(r=E[n])[0]+"%"),_(P,n)){var o=P[n];if(o===A&&(o=x(n)),void 0===o&&!e)throw new g("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new h("intrinsic "+t+" does not exist!")},C=function(t,e){if("string"!=typeof t||0===t.length)throw new g("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new g('"allowMissing" argument must be a boolean');var r=D(t),n=r.length>0?r[0]:"",o=T("%"+n+"%",e),i=o.name,a=o.value,u=!1,c=o.alias;c&&(n=c[0],F(r,R([0,1],c)));for(var s=1,l=!0;s<r.length;s+=1){var f=r[s],p=z(f,0,1),y=z(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===y||"'"===y||"`"===y)&&p!==y)throw new h("property names with quotes must have matching quotes");if("constructor"!==f&&l||(u=!0),_(P,i="%"+(n+="."+f)+"%"))a=P[i];else if(null!=a){if(!(f in a)){if(!e)throw new g("base intrinsic for "+t+" exists, but the property is not available.");return}if(m&&s+1>=r.length){var d=m(a,f);a=(l=!!d)&&"get"in d&&!("originalValue"in d.get)?d.get:a[f]}else l=_(a,f),a=a[f];l&&!u&&(P[i]=a)}}return a},B={exports:{}};!function(t){var e=p,r=C,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||e.call(o,n),a=r("%Object.getOwnPropertyDescriptor%",!0),u=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(u)try{u({},"a",{value:1})}catch(t){u=null}t.exports=function(t){var r=i(e,o,arguments);if(a&&u){var n=a(r,"length");n.configurable&&u(r,"length",{value:1+c(0,t.length-(arguments.length-1))})}return r};var s=function(){return i(e,n,arguments)};u?u(t.exports,"apply",{value:s}):t.exports.apply=s}(B);var M=C,L=B.exports,q=L(M("String.prototype.indexOf")),W="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function $(t){return null!=t&&(!!t._isBuffer||H(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&H(t.slice(0,0))}(t))}function H(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function G(){throw new Error("setTimeout has not been defined")}function J(){throw new Error("clearTimeout has not been defined")}void 0===W.TYPED_ARRAY_SUPPORT||W.TYPED_ARRAY_SUPPORT;var V=G,Q=J;function Y(t){if(V===setTimeout)return setTimeout(t,0);if((V===G||!V)&&setTimeout)return V=setTimeout,setTimeout(t,0);try{return V(t,0)}catch(e){try{return V.call(null,t,0)}catch(e){return V.call(this,t,0)}}}"function"==typeof W.setTimeout&&(V=setTimeout),"function"==typeof W.clearTimeout&&(Q=clearTimeout);var Z,K=[],X=!1,tt=-1;function et(){X&&Z&&(X=!1,Z.length?K=Z.concat(K):tt=-1,K.length&&rt())}function rt(){if(!X){var t=Y(et);X=!0;for(var e=K.length;e;){for(Z=K,K=[];++tt<e;)Z&&Z[tt].run();tt=-1,e=K.length}Z=null,X=!1,function(t){if(Q===clearTimeout)return clearTimeout(t);if((Q===J||!Q)&&clearTimeout)return Q=clearTimeout,clearTimeout(t);try{Q(t)}catch(e){try{return Q.call(null,t)}catch(e){return Q.call(this,t)}}}(t)}}function nt(t,e){this.fun=t,this.array=e}nt.prototype.run=function(){this.fun.apply(null,this.array)};function ot(){}var it=ot,at=ot,ut=ot,ct=ot,st=ot,lt=ot,ft=ot;var pt=W.performance||{},yt=pt.now||pt.mozNow||pt.msNow||pt.oNow||pt.webkitNow||function(){return(new Date).getTime()};var ht=new Date;var dt={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];K.push(new nt(t,e)),1!==K.length||X||Y(rt)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:it,addListener:at,once:ut,off:ct,removeListener:st,removeAllListeners:lt,emit:ft,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*yt.call(pt),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-ht)/1e3}},gt="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t},bt=/%[sdj%]/g;function mt(t){if(!Ut(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(At(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(t).replace(bt,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),a=n[r];r<o;a=n[++r])Ft(a)||!Ct(a)?i+=" "+a:i+=" "+At(a);return i}function vt(t,e){if(Dt(W.process))return function(){return vt(t,e).apply(this,arguments)};if(!0===dt.noDeprecation)return t;var r=!1;return function(){if(!r){if(dt.throwDeprecation)throw new Error(e);dt.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}}var St,wt={};function jt(t){if(Dt(St)&&(St=dt.env.NODE_DEBUG||""),t=t.toUpperCase(),!wt[t])if(new RegExp("\\b"+t+"\\b","i").test(St)){wt[t]=function(){var e=mt.apply(null,arguments);console.error("%s %d: %s",t,0,e)}}else wt[t]=function(){};return wt[t]}function At(t,e){var r={seen:[],stylize:Pt};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Rt(e)?r.showHidden=e:e&&Qt(r,e),Dt(r.showHidden)&&(r.showHidden=!1),Dt(r.depth)&&(r.depth=2),Dt(r.colors)&&(r.colors=!1),Dt(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Ot),xt(r,t,r.depth)}function Ot(t,e){var r=At.styles[e];return r?"["+At.colors[r][0]+"m"+t+"["+At.colors[r][1]+"m":t}function Pt(t,e){return t}function xt(t,e,r){if(t.customInspect&&e&&Lt(e.inspect)&&e.inspect!==At&&(!e.constructor||e.constructor.prototype!==e)){var n=e.inspect(r,t);return Ut(n)||(n=xt(t,n,r)),n}var o=function(t,e){if(Dt(e))return t.stylize("undefined","undefined");if(Ut(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(zt(e))return t.stylize(""+e,"number");if(Rt(e))return t.stylize(""+e,"boolean");if(Ft(e))return t.stylize("null","null")}(t,e);if(o)return o;var i=Object.keys(e),a=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(i);if(t.showHidden&&(i=Object.getOwnPropertyNames(e)),Mt(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return Et(e);if(0===i.length){if(Lt(e)){var u=e.name?": "+e.name:"";return t.stylize("[Function"+u+"]","special")}if(Tt(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Bt(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Mt(e))return Et(e)}var c,s="",l=!1,f=["{","}"];(_t(e)&&(l=!0,f=["[","]"]),Lt(e))&&(s=" [Function"+(e.name?": "+e.name:"")+"]");return Tt(e)&&(s=" "+RegExp.prototype.toString.call(e)),Bt(e)&&(s=" "+Date.prototype.toUTCString.call(e)),Mt(e)&&(s=" "+Et(e)),0!==i.length||l&&0!=e.length?r<0?Tt(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),c=l?function(t,e,r,n,o){for(var i=[],a=0,u=e.length;a<u;++a)Yt(e,String(a))?i.push(kt(t,e,r,n,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(kt(t,e,r,n,o,!0))})),i}(t,e,r,a,i):i.map((function(n){return kt(t,e,r,a,n,l)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(c,s,f)):f[0]+s+f[1]}function Et(t){return"["+Error.prototype.toString.call(t)+"]"}function kt(t,e,r,n,o,i){var a,u,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),Yt(n,o)||(a="["+o+"]"),u||(t.seen.indexOf(c.value)<0?(u=Ft(r)?xt(t,c.value,null):xt(t,c.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),Dt(a)){if(i&&o.match(/^\d+$/))return u;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function _t(t){return Array.isArray(t)}function Rt(t){return"boolean"==typeof t}function Ft(t){return null===t}function Nt(t){return null==t}function zt(t){return"number"==typeof t}function Ut(t){return"string"==typeof t}function It(t){return"symbol"==typeof t}function Dt(t){return void 0===t}function Tt(t){return Ct(t)&&"[object RegExp]"===$t(t)}function Ct(t){return"object"==typeof t&&null!==t}function Bt(t){return Ct(t)&&"[object Date]"===$t(t)}function Mt(t){return Ct(t)&&("[object Error]"===$t(t)||t instanceof Error)}function Lt(t){return"function"==typeof t}function qt(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function Wt(t){return $(t)}function $t(t){return Object.prototype.toString.call(t)}function Ht(t){return t<10?"0"+t.toString(10):t.toString(10)}At.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},At.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Gt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Jt(){var t=new Date,e=[Ht(t.getHours()),Ht(t.getMinutes()),Ht(t.getSeconds())].join(":");return[t.getDate(),Gt[t.getMonth()],e].join(" ")}function Vt(){console.log("%s - %s",Jt(),mt.apply(null,arguments))}function Qt(t,e){if(!e||!Ct(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function Yt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Zt={inherits:gt,_extend:Qt,log:Vt,isBuffer:Wt,isPrimitive:qt,isFunction:Lt,isError:Mt,isDate:Bt,isObject:Ct,isRegExp:Tt,isUndefined:Dt,isSymbol:It,isString:Ut,isNumber:zt,isNullOrUndefined:Nt,isNull:Ft,isBoolean:Rt,isArray:_t,inspect:At,deprecate:vt,format:mt,debuglog:jt},Kt=e(Object.freeze({__proto__:null,format:mt,deprecate:vt,debuglog:jt,inspect:At,isArray:_t,isBoolean:Rt,isNull:Ft,isNullOrUndefined:Nt,isNumber:zt,isString:Ut,isSymbol:It,isUndefined:Dt,isRegExp:Tt,isObject:Ct,isDate:Bt,isError:Mt,isFunction:Lt,isPrimitive:qt,isBuffer:Wt,log:Vt,inherits:gt,_extend:Qt,default:Zt})).inspect,Xt="function"==typeof Map&&Map.prototype,te=Object.getOwnPropertyDescriptor&&Xt?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ee=Xt&&te&&"function"==typeof te.get?te.get:null,re=Xt&&Map.prototype.forEach,ne="function"==typeof Set&&Set.prototype,oe=Object.getOwnPropertyDescriptor&&ne?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ie=ne&&oe&&"function"==typeof oe.get?oe.get:null,ae=ne&&Set.prototype.forEach,ue="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,ce="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,se="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,le=Boolean.prototype.valueOf,fe=Object.prototype.toString,pe=Function.prototype.toString,ye=String.prototype.match,he=String.prototype.slice,de=String.prototype.replace,ge=String.prototype.toUpperCase,be=String.prototype.toLowerCase,me=RegExp.prototype.test,ve=Array.prototype.concat,Se=Array.prototype.join,we=Array.prototype.slice,je=Math.floor,Ae="function"==typeof BigInt?BigInt.prototype.valueOf:null,Oe=Object.getOwnPropertySymbols,Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,xe="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Ee="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===xe||"symbol")?Symbol.toStringTag:null,ke=Object.prototype.propertyIsEnumerable,_e=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Re(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||me.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-je(-t):je(t);if(n!==t){var o=String(n),i=he.call(e,o.length+1);return de.call(o,r,"$&_")+"."+de.call(de.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return de.call(e,r,"$&_")}var Fe=Kt,Ne=Fe.custom,ze=Ce(Ne)?Ne:null;function Ue(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function Ie(t){return de.call(String(t),/"/g,"&quot;")}function De(t){return!("[object Array]"!==Le(t)||Ee&&"object"==typeof t&&Ee in t)}function Te(t){return!("[object RegExp]"!==Le(t)||Ee&&"object"==typeof t&&Ee in t)}function Ce(t){if(xe)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!Pe)return!1;try{return Pe.call(t),!0}catch(t){}return!1}var Be=Object.prototype.hasOwnProperty||function(t){return t in this};function Me(t,e){return Be.call(t,e)}function Le(t){return fe.call(t)}function qe(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function We(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return We(he.call(t,0,e.maxStringLength),e)+n}return Ue(de.call(de.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$e),"single",e)}function $e(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+ge.call(e.toString(16))}function He(t){return"Object("+t+")"}function Ge(t){return t+" { ? }"}function Je(t,e,r,n){return t+" ("+e+") {"+(n?Ve(r,n):Se.call(r,", "))+"}"}function Ve(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+Se.call(t,","+r)+"\n"+e.prev}function Qe(t,e){var r=De(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=Me(t,o)?e(t[o],t):""}var i,a="function"==typeof Oe?Oe(t):[];if(xe){i={};for(var u=0;u<a.length;u++)i["$"+a[u]]=a[u]}for(var c in t)Me(t,c)&&(r&&String(Number(c))===c&&c<t.length||xe&&i["$"+c]instanceof Symbol||(me.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if("function"==typeof Oe)for(var s=0;s<a.length;s++)ke.call(t,a[s])&&n.push("["+e(a[s])+"]: "+e(t[a[s]],t));return n}var Ye=C,Ze=function(t,e){var r=M(t,!!e);return"function"==typeof r&&q(t,".prototype.")>-1?L(r):r},Ke=function t(e,r,n,o){var i=r||{};if(Me(i,"quoteStyle")&&"single"!==i.quoteStyle&&"double"!==i.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Me(i,"maxStringLength")&&("number"==typeof i.maxStringLength?i.maxStringLength<0&&i.maxStringLength!==1/0:null!==i.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!Me(i,"customInspect")||i.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Me(i,"indent")&&null!==i.indent&&"\t"!==i.indent&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Me(i,"numericSeparator")&&"boolean"!=typeof i.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=i.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return We(e,i);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var c=String(e);return u?Re(e,c):c}if("bigint"==typeof e){var s=String(e)+"n";return u?Re(e,s):s}var l=void 0===i.depth?5:i.depth;if(void 0===n&&(n=0),n>=l&&l>0&&"object"==typeof e)return De(e)?"[Array]":"[Object]";var f=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=Se.call(Array(t.indent+1)," ")}return{base:r,prev:Se.call(Array(e+1),r)}}(i,n);if(void 0===o)o=[];else if(qe(o,e)>=0)return"[Circular]";function p(e,r,a){if(r&&(o=we.call(o)).push(r),a){var u={depth:i.depth};return Me(i,"quoteStyle")&&(u.quoteStyle=i.quoteStyle),t(e,u,n+1,o)}return t(e,i,n+1,o)}if("function"==typeof e&&!Te(e)){var y=function(t){if(t.name)return t.name;var e=ye.call(pe.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),h=Qe(e,p);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(h.length>0?" { "+Se.call(h,", ")+" }":"")}if(Ce(e)){var d=xe?de.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Pe.call(e);return"object"!=typeof e||xe?d:He(d)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var g="<"+be.call(String(e.nodeName)),b=e.attributes||[],m=0;m<b.length;m++)g+=" "+b[m].name+"="+Ue(Ie(b[m].value),"double",i);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+be.call(String(e.nodeName))+">"}if(De(e)){if(0===e.length)return"[]";var v=Qe(e,p);return f&&!function(t){for(var e=0;e<t.length;e++)if(qe(t[e],"\n")>=0)return!1;return!0}(v)?"["+Ve(v,f)+"]":"[ "+Se.call(v,", ")+" ]"}if(function(t){return!("[object Error]"!==Le(t)||Ee&&"object"==typeof t&&Ee in t)}(e)){var S=Qe(e,p);return"cause"in Error.prototype||!("cause"in e)||ke.call(e,"cause")?0===S.length?"["+String(e)+"]":"{ ["+String(e)+"] "+Se.call(S,", ")+" }":"{ ["+String(e)+"] "+Se.call(ve.call("[cause]: "+p(e.cause),S),", ")+" }"}if("object"==typeof e&&a){if(ze&&"function"==typeof e[ze]&&Fe)return Fe(e,{depth:l-n});if("symbol"!==a&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!ee||!t||"object"!=typeof t)return!1;try{ee.call(t);try{ie.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var w=[];return re.call(e,(function(t,r){w.push(p(r,e,!0)+" => "+p(t,e))})),Je("Map",ee.call(e),w,f)}if(function(t){if(!ie||!t||"object"!=typeof t)return!1;try{ie.call(t);try{ee.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var j=[];return ae.call(e,(function(t){j.push(p(t,e))})),Je("Set",ie.call(e),j,f)}if(function(t){if(!ue||!t||"object"!=typeof t)return!1;try{ue.call(t,ue);try{ce.call(t,ce)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Ge("WeakMap");if(function(t){if(!ce||!t||"object"!=typeof t)return!1;try{ce.call(t,ce);try{ue.call(t,ue)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Ge("WeakSet");if(function(t){if(!se||!t||"object"!=typeof t)return!1;try{return se.call(t),!0}catch(t){}return!1}(e))return Ge("WeakRef");if(function(t){return!("[object Number]"!==Le(t)||Ee&&"object"==typeof t&&Ee in t)}(e))return He(p(Number(e)));if(function(t){if(!t||"object"!=typeof t||!Ae)return!1;try{return Ae.call(t),!0}catch(t){}return!1}(e))return He(p(Ae.call(e)));if(function(t){return!("[object Boolean]"!==Le(t)||Ee&&"object"==typeof t&&Ee in t)}(e))return He(le.call(e));if(function(t){return!("[object String]"!==Le(t)||Ee&&"object"==typeof t&&Ee in t)}(e))return He(p(String(e)));if(!function(t){return!("[object Date]"!==Le(t)||Ee&&"object"==typeof t&&Ee in t)}(e)&&!Te(e)){var A=Qe(e,p),O=_e?_e(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",x=!O&&Ee&&Object(e)===e&&Ee in e?he.call(Le(e),8,-1):P?"Object":"",E=(O||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(x||P?"["+Se.call(ve.call([],x||[],P||[]),": ")+"] ":"");return 0===A.length?E+"{}":f?E+"{"+Ve(A,f)+"}":E+"{ "+Se.call(A,", ")+" }"}return String(e)},Xe=Ye("%TypeError%"),tr=Ye("%WeakMap%",!0),er=Ye("%Map%",!0),rr=Ze("WeakMap.prototype.get",!0),nr=Ze("WeakMap.prototype.set",!0),or=Ze("WeakMap.prototype.has",!0),ir=Ze("Map.prototype.get",!0),ar=Ze("Map.prototype.set",!0),ur=Ze("Map.prototype.has",!0),cr=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},sr=String.prototype.replace,lr=/%20/g,fr="RFC3986",pr={default:fr,formatters:{RFC1738:function(t){return sr.call(t,lr,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:fr},yr=pr,hr=Object.prototype.hasOwnProperty,dr=Array.isArray,gr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),br=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},mr={arrayToObject:br,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],i=o.obj[o.prop],a=Object.keys(i),u=0;u<a.length;++u){var c=a[u],s=i[c];"object"==typeof s&&null!==s&&-1===r.indexOf(s)&&(e.push({obj:i,prop:c}),r.push(s))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(dr(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,n,o){if(0===t.length)return t;var i=t;if("symbol"==typeof t?i=Symbol.prototype.toString.call(t):"string"!=typeof t&&(i=String(t)),"iso-8859-1"===r)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var a="",u=0;u<i.length;++u){var c=i.charCodeAt(u);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===yr.RFC1738&&(40===c||41===c)?a+=i.charAt(u):c<128?a+=gr[c]:c<2048?a+=gr[192|c>>6]+gr[128|63&c]:c<55296||c>=57344?a+=gr[224|c>>12]+gr[128|c>>6&63]+gr[128|63&c]:(u+=1,c=65536+((1023&c)<<10|1023&i.charCodeAt(u)),a+=gr[240|c>>18]+gr[128|c>>12&63]+gr[128|c>>6&63]+gr[128|63&c])}return a},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(dr(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(dr(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!hr.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var o=e;return dr(e)&&!dr(r)&&(o=br(e,n)),dr(e)&&dr(r)?(r.forEach((function(r,o){if(hr.call(e,o)){var i=e[o];i&&"object"==typeof i&&r&&"object"==typeof r?e[o]=t(i,r,n):e.push(r)}else e[o]=r})),e):Object.keys(r).reduce((function(e,o){var i=r[o];return hr.call(e,o)?e[o]=t(e[o],i,n):e[o]=i,e}),o)}},vr=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new Xe("Side channel does not contain "+Ke(t))},get:function(n){if(tr&&n&&("object"==typeof n||"function"==typeof n)){if(t)return rr(t,n)}else if(er){if(e)return ir(e,n)}else if(r)return function(t,e){var r=cr(t,e);return r&&r.value}(r,n)},has:function(n){if(tr&&n&&("object"==typeof n||"function"==typeof n)){if(t)return or(t,n)}else if(er){if(e)return ur(e,n)}else if(r)return function(t,e){return!!cr(t,e)}(r,n);return!1},set:function(n,o){tr&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new tr),nr(t,n,o)):er?(e||(e=new er),ar(e,n,o)):(r||(r={key:{},next:null}),function(t,e,r){var n=cr(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,o))}};return n},Sr=mr,wr=pr,jr=Object.prototype.hasOwnProperty,Ar={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},Or=Array.isArray,Pr=String.prototype.split,xr=Array.prototype.push,Er=function(t,e){xr.apply(t,Or(e)?e:[e])},kr=Date.prototype.toISOString,_r=wr.default,Rr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Sr.encode,encodeValuesOnly:!1,format:_r,formatter:wr.formatters[_r],indices:!1,serializeDate:function(t){return kr.call(t)},skipNulls:!1,strictNullHandling:!1},Fr={},Nr=function t(e,r,n,o,i,a,u,c,s,l,f,p,y,h,d){for(var g,b=e,m=d,v=0,S=!1;void 0!==(m=m.get(Fr))&&!S;){var w=m.get(e);if(v+=1,void 0!==w){if(w===v)throw new RangeError("Cyclic object value");S=!0}void 0===m.get(Fr)&&(v=0)}if("function"==typeof u?b=u(r,b):b instanceof Date?b=l(b):"comma"===n&&Or(b)&&(b=Sr.maybeMap(b,(function(t){return t instanceof Date?l(t):t}))),null===b){if(o)return a&&!y?a(r,Rr.encoder,h,"key",f):r;b=""}if("string"==typeof(g=b)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||Sr.isBuffer(b)){if(a){var j=y?r:a(r,Rr.encoder,h,"key",f);if("comma"===n&&y){for(var A=Pr.call(String(b),","),O="",P=0;P<A.length;++P)O+=(0===P?"":",")+p(a(A[P],Rr.encoder,h,"value",f));return[p(j)+"="+O]}return[p(j)+"="+p(a(b,Rr.encoder,h,"value",f))]}return[p(r)+"="+p(String(b))]}var x,E=[];if(void 0===b)return E;if("comma"===n&&Or(b))x=[{value:b.length>0?b.join(",")||null:void 0}];else if(Or(u))x=u;else{var k=Object.keys(b);x=c?k.sort(c):k}for(var _=0;_<x.length;++_){var R=x[_],F="object"==typeof R&&void 0!==R.value?R.value:b[R];if(!i||null!==F){var N=Or(b)?"function"==typeof n?n(r,R):r:r+(s?"."+R:"["+R+"]");d.set(e,v);var z=vr();z.set(Fr,d),Er(E,t(F,N,n,o,i,a,u,c,s,l,f,p,y,h,z))}}return E},zr=mr,Ur=Object.prototype.hasOwnProperty,Ir=Array.isArray,Dr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:zr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Tr=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},Cr=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Br=function(t,e,r,n){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(o),u=a?o.slice(0,a.index):o,c=[];if(u){if(!r.plainObjects&&Ur.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var s=0;r.depth>0&&null!==(a=i.exec(o))&&s<r.depth;){if(s+=1,!r.plainObjects&&Ur.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+o.slice(a.index)+"]"),function(t,e,r,n){for(var o=n?e:Cr(e,r),i=t.length-1;i>=0;--i){var a,u=t[i];if("[]"===u&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var c="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,s=parseInt(c,10);r.parseArrays||""!==c?!isNaN(s)&&u!==c&&String(s)===c&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(a=[])[s]=o:"__proto__"!==c&&(a[c]=o):a={0:o}}o=a}return o}(c,e,r,n)}},Mr=function(t,e){var r,n=t,o=function(t){if(!t)return Rr;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||Rr.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=wr.default;if(void 0!==t.format){if(!jr.call(wr.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=wr.formatters[r],o=Rr.filter;return("function"==typeof t.filter||Or(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:Rr.addQueryPrefix,allowDots:void 0===t.allowDots?Rr.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Rr.charsetSentinel,delimiter:void 0===t.delimiter?Rr.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:Rr.encode,encoder:"function"==typeof t.encoder?t.encoder:Rr.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:Rr.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:Rr.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:Rr.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Rr.strictNullHandling}}(e);"function"==typeof o.filter?n=(0,o.filter)("",n):Or(o.filter)&&(r=o.filter);var i,a=[];if("object"!=typeof n||null===n)return"";i=e&&e.arrayFormat in Ar?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var u=Ar[i];r||(r=Object.keys(n)),o.sort&&r.sort(o.sort);for(var c=vr(),s=0;s<r.length;++s){var l=r[s];o.skipNulls&&null===n[l]||Er(a,Nr(n[l],l,u,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,c))}var f=a.join(o.delimiter),p=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),f.length>0?p+f:""},Lr={formats:pr,parse:function(t,e){var r=function(t){if(!t)return Dr;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?Dr.charset:t.charset;return{allowDots:void 0===t.allowDots?Dr.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:Dr.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:Dr.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:Dr.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Dr.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:Dr.comma,decoder:"function"==typeof t.decoder?t.decoder:Dr.decoder,delimiter:"string"==typeof t.delimiter||zr.isRegExp(t.delimiter)?t.delimiter:Dr.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:Dr.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:Dr.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:Dr.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:Dr.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Dr.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?function(t,e){var r,n={},o=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=e.parameterLimit===1/0?void 0:e.parameterLimit,a=o.split(e.delimiter,i),u=-1,c=e.charset;if(e.charsetSentinel)for(r=0;r<a.length;++r)0===a[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===a[r]?c="utf-8":"utf8=%26%2310003%3B"===a[r]&&(c="iso-8859-1"),u=r,r=a.length);for(r=0;r<a.length;++r)if(r!==u){var s,l,f=a[r],p=f.indexOf("]="),y=-1===p?f.indexOf("="):p+1;-1===y?(s=e.decoder(f,Dr.decoder,c,"key"),l=e.strictNullHandling?null:""):(s=e.decoder(f.slice(0,y),Dr.decoder,c,"key"),l=zr.maybeMap(Cr(f.slice(y+1),e),(function(t){return e.decoder(t,Dr.decoder,c,"value")}))),l&&e.interpretNumericEntities&&"iso-8859-1"===c&&(l=Tr(l)),f.indexOf("[]=")>-1&&(l=Ir(l)?[l]:l),Ur.call(n,s)?n[s]=zr.combine(n[s],l):n[s]=l}return n}(t,r):t,o=r.plainObjects?Object.create(null):{},i=Object.keys(n),a=0;a<i.length;++a){var u=i[a],c=Br(u,n[u],r,"string"==typeof t);o=zr.merge(o,c,r)}return!0===r.allowSparse?o:zr.compact(o)},stringify:Mr};const qr={method:"get",params:{},data:"",timeout:1e3,credentials:"same-origin",headers:{},mod:"same-origin",prefix:"",suffix:"",requestType:"json",responseType:"json",hooks:[t=>{if(t.status>=200&&t.status<300)return t;throw new Error(`request error: ${t.statusText}`)}]};class Wr{constructor(t){this.opts=t||{}}_request(e,r,n){var o,i,a;return t(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign(Object.assign({},this.opts),n),{method:e}),u=null!==(o=t.prefix)&&void 0!==o?o:"",c=null!==(i=t.suffix)&&void 0!==i?i:"";if(r=`${u}${r}${c}`,t.params){const e=Object.prototype.toString.call(t.params);"[object URLSearchParams]"===e?t.params=t.params.toString():"[object Object]"!==e&&"[object Array]"!==e||(t.params=Lr.stringify(t.params,{arrayFormat:"brackets"}));const n=-1!==r.indexOf("?")?"&":"?";r=`${r}${n}${t.params}`}const s=new Request(r);let l=fetch(s,(t=>{var e;const r={},n=Object.assign(Object.assign({},qr),t),{requestType:o="json",data:i}=n;let a;if(i){const t=Object.prototype.toString.call(i);"[object Object]"===t||"[object Array]"===t?"json"===o?(n.headers=Object.assign({Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},n.headers),a=JSON.stringify(i)):"form"===o&&(n.headers=Object.assign({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},n.headers),a=Lr.stringify(i,{arrayFormat:"repeat",strictNullHandling:!0})):(n.headers=Object.assign({Accept:"application/json"},n.headers),a=i)}return r.method=null===(e=n.method)||void 0===e?void 0:e.toUpperCase(),r.headers=n.headers,r.body=a,r.credentials=n.credentials,r.mode=n.mod,r})(t));t.hooks=null!==(a=t.hooks)&&void 0!==a?a:[];for(const e of t.hooks)l=l.then(e);return l}))}get(e,r){return t(this,void 0,void 0,(function*(){return this._request("get",e,r)}))}post(e,r){return t(this,void 0,void 0,(function*(){return this._request("post",e,r)}))}delete(e,r){return t(this,void 0,void 0,(function*(){return this._request("delete",e,r)}))}put(e,r){return t(this,void 0,void 0,(function*(){return this._request("put",e,r)}))}}const $r=(t=qr)=>new Wr(t);$r({});class Hr{constructor(t){this.file=t}read(t,e,r,n){const o=Blob.prototype.slice.call(this.file,t,t+e),i=new FileReader;i.onload=t=>{t&&t.target&&t.target.readyState===FileReader.DONE&&r(t.target.result)},i.onerror=t=>{console.log(t),n(Error("fileReader error"))},i.onerror=t=>{console.log(t)},i.readAsArrayBuffer(o)}digest(t,e){const r=File.prototype.slice,n=2097152,i=Math.ceil(this.file.size/n),a=new o.ArrayBuffer,u=new FileReader;let c=0;u.onload=function(r){if(console.log("read chunk nr",c+1,"of",i),r&&r.target&&r.target.readyState===FileReader.DONE)if(a.append(r.target.result),c++,c<i)s();else{console.log("finished loading");const e=a.end();t(e)}else e(Error("hash error"))},u.onerror=function(){console.warn("oops, something went wrong.")};const s=()=>{const t=c*n,e=t+n>=this.size()?this.size():t+n;u.readAsArrayBuffer(r.call(this.file,t,e))};s()}size(){return this.file.size}}class Gr{request(e,r,n){return t(this,void 0,void 0,(function*(){return $r(n)._request(e,r,n).then((t=>t.json()))}))}initRequest(t,e,r,n,o){const{touchUrl:i}=t,a=Object.assign(Object.assign({},t),{params:e,data:r});this.request("post",i,a).then((t=>{n(t.data)})).catch((t=>{console.log(t),o(t)}))}chunkRequest(t,e,r,n,o){const{uploadUrl:i}=t,a=Object.assign(Object.assign({},t),{params:e,data:r});this.request("post",i,a).then((t=>{n(t.data)})).catch((t=>{console.log(t),o(t)}))}mergeRequest(t,e,r,n,o){const{mergeUrl:i}=t,a=Object.assign(Object.assign({},t),{params:e,data:r});this.request("post",i,a).then((t=>{n(t.data)})).catch((t=>{console.log(t),o(t)}))}}module.exports=(t,e)=>new i(t,new Hr(e),new Gr,URLSearchParams);
